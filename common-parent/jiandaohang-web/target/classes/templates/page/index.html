<!DOCTYPE html>
<html class="shubiao  main_menu " lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=0.75">
    <meta name="renderer" content="webkit" />
    <title>简导航-最个性的导航</title>
  <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- 可选的 Bootstrap 主题文件（一般不用引入） -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <!-- 鼠标右键菜单 -->
    <link rel='StyleSheet' type='text/css' href="/css/class2context.css">
    <!--单选按钮-->
    <link rel="stylesheet" href="/css/switch.css" />
    <!--自定义css-->
    <link rel="stylesheet" th:href="'/css/myStyle.css?v='+${application.v}" />
    <!--弹窗-->
    <link rel="stylesheet" type="text/css" href="/css/default.css" />
    <link rel="stylesheet" type="text/css" href="/css/component.css" />
    <link rel="stylesheet" type="text/css" href="/css/sweetalert2.css" />
    <!--取色器-->
    <link rel="stylesheet" type="text/css" href="/css/colorpicker.css" />

<style type="text/css" th:inline="css">
a,.shubiao2,.music-player,label,.hamburger,.img-thumbnail,.panel-title a,.search-menu-info li{
    cursor: url("/material/img/mouse/hand/手指.ico"),default;
}
.shubiao,.nav-tabs>li.active>a:hover {
    cursor: url("/material/img/mouse/pointer/蓝色鼠标.ico"),default;
}
/*html{*/
/*    zoom: .9;*/
/*}*/
</style>

</head>

<body class="shubiao">
<!-- 弹窗 -->
<a  id="userinfo" class="md-trigger" th:attr="data-modal=${user.username==null?'modal-13':'null'}" data-modal="modal-13" style="text-decoration: none;    background-color: white;
    border-radius: 20px;"><img src="/material/img/head/登录.png" /><span th:text="${user.username==null?'登陆':''}"></span></a>



<!--个人资料-->
<div class="row" th:if="${user.username!=null}">
    <div class="col-lg-1 col-md-1 col-xs-1">
        <ul class="search-menu-info">

            <li name="user_name">
                <a href="javascript:void(0)" class="" style="text-decoration: none; color: #fb7299;font-weight: 600;font-size: 16px;" th:text="${user.username==null?'null':user.username}"></a>
            </li>
            <hr />

            <li>
                <a href="javascript:void(0)" class="" style="text-decoration: none; " ><img />个人信息</a>
            </li>
            <li >
                <a href="javascript:void(0)" class="" style="text-decoration: none;" onclick="logout()"><img />账户登出</a>
            </li>

        </ul>
    </div>
</div>

<!--收藏夹-->
<div id="wrapper" >
    <div class="overlay"></div>
    <!-- Sidebar -->
    <nav class="navbar navbar-inverse navbar-fixed-top" id="sidebar-wrapper" role="navigation">
        <ul class="nav sidebar-nav">
            <li class="sidebar-brand">
                <a href="javascript:void(0)">
                    收藏夹
                </a>
            </li>



            <li class="dropdown">
                <a href="javascript:void(0)"  class="dropdown-toggle" data-toggle="dropdown" role="button" id="myTabDrop1">
                    Dropdown <span class="caret"></span>
                </a>

            </li>
            <div aria-labelledby="myTabDrop1" class="my_dropdown" >
                <li>
                    <a href="#"><img src="/material/img/webIco/bilibili.ico"  />
                        <span>sssssssssssssssssssssssssssssssssaaaa</span>
                    </a>

                    <a href="#"><img src="/material/img/webIco/bilibili.ico"  />
                        <span>sssssssssssssssssssssssssssssssssaaaa</span>
                    </a>

                    <a href="#"><img src="/material/img/webIco/bilibili.ico"  />
                        <span>中文网a</span>
                    </a>

                    <a href="#"><img src="/material/img/webIco/bilibili.ico"  />
                        <span>sssssssssssssssssssssssssssssssssaaaa</span>
                    </a>
                </li>
            </div>

            <li class="dropdown">
                <a href="javascript:void(0)"  class="dropdown-toggle" data-toggle="dropdown" role="button" id="myTabDrop2">
                    Dropdown2 <span class="caret"></span>
                </a>

            </li>
            <div aria-labelledby="myTabDrop2" class="my_dropdown" >
                <li>
                    <a href="#"><img src="/material/img/webIco/bilibili.ico"  />
                        <span>sssssssssssssssssssssssssssssssssaaaa</span>
                    </a>

                    <a href="#"><img src="/material/img/webIco/bilibili.ico"  />
                        <span>sssssssssssssssssssssssssssssssssaaaa</span>
                    </a>

                    <a href="#"><img src="/material/img/webIco/bilibili.ico"  />
                        <span>中文网a</span>
                    </a>

                    <a href="#"><img src="/material/img/webIco/bilibili.ico"  />
                        <span>sssssssssssssssssssssssssssssssssaaaa</span>
                    </a>
                </li>
            </div>




        </ul>




    </nav>

    <div id="page-content-wrapper">
        <button type="button" class="hamburger is-closed animated fadeInLeft" data-toggle="offcanvas">
            <span class="hamb-top"></span>
            <span class="hamb-middle"></span>
            <span class="hamb-bottom"></span>
        </button>
    </div>
</div>
<script type="text/javascript" th:inline ="javascript">

    $(".dropdown a").click(function(){
        var curID=$(this).attr("id");
        var curContent=$("div[aria-labelledby='"+curID+"']");
        if(curContent.css("display")=="none")
            curContent.slideDown(100);
        else
            curContent.slideUp(100);
    });
    var isClosed = false;

    var trigger = $('.hamburger'),
        overlay = $('.overlay');

        trigger.click(function () {
            hamburger_cross();
        });

        function hamburger_cross(obj) {

            if (isClosed === true||obj==="close") {
                if (obj==="close") $('#wrapper').removeClass('toggled');
                overlay.hide();
                trigger.removeClass('is-open');
                trigger.addClass('is-closed');
                isClosed = false;
            } else {
                overlay.show();
                trigger.removeClass('is-closed');
                trigger.addClass('is-open');
                isClosed = true;
            }
        }

        $('[data-toggle="offcanvas"]').click(function () {
            $('#wrapper').toggleClass('toggled');
        });


    $(".dropdown-menu li a").mouseenter(function(){
        $(this).css("color","#222222");
    });
    $(".dropdown-menu li a").mouseleave(function(){
        $(this).css("color","#ffffff");
    });




</script>

<!--描述：三个按钮-->

<div style="position: fixed; z-index: 101; left: 0px; top: 29%; display: none; " id="BtnThree" th:if="${user.username!=null}">
    <a  href="javascript:void(0)" style="text-decoration: none;" ><div class="kongjianbnt" onclick="shouqi(this)" >预览</div></a>
    <a href="javascript:void(0)" style="text-decoration: none;"><div class="kongjianbnt"  onclick="exit_edit(this)">退出</div></a>
    <a  href="javascript:void(0)" style="text-decoration: none;"><div class="kongjianbnt center-block"  onclick="savedeck(this)">保存</div></a>
</div>





<!--编辑导航-->
<div class="container" id="head-tab-content" style="display: none;" th:if="${user.username!=null}">

    <div class="row ">

        <div class="col-lg-12 col-md-12 col-xs-12" style="background-color: rgba(44,49,53,1); border-radius:8px;">
            <!-- Nav tabs -->
            <ul class="nav nav-tabs" role="tablist" >
                <li  role="presentation" ><a href="#bjtp" aria-controls="" role="tab" data-toggle="tab">背景图片</a></li>
                <li role="presentation"><a href="#bjtx" aria-controls="" role="tab" data-toggle="tab">背景特效</a></li>
                <li role="presentation"><a href="#sskys" aria-controls="" role="tab" data-toggle="tab">搜索框样式</a></li>
                <li role="presentation"><a href="#settings" aria-controls="" role="tab" data-toggle="tab">鼠标样式</a></li>
                <li role="presentation"><a href="#settings" aria-controls="" role="tab" data-toggle="tab">漂浮物样式</a></li>
                <li role="presentation"><a href="#settings" aria-controls="" role="tab" data-toggle="tab">播放器样式</a></li>
            </ul>

            <!-- Tab panes -->
            <div class="tab-content" >
                <!--背景图片-->
                <div role="tabpanel" class="tab-pane fade" id="bjtp">

                    <ul class="nav nav-tabs" role="tablist" >
                        <li  role="presentation" onclick="load_gxbj(this)" ><a  href="#gxbj" aria-controls="" role="tab" data-toggle="tab">共享图片</a></li>
                        <li role="presentation"><a href="#sctp" aria-controls="" role="tab" data-toggle="tab">上传图片</a></li>
                        <li role="presentation" onclick="load_wdsc(this)"><a href="#wdsc" aria-controls="" role="tab" data-toggle="tab">我的上传</a></li>

                    </ul>

                    <div class="tab-content"  >

                        <!--共享背景图片-->
                        <div role="tabpanel" class="tab-pane fade" id="gxbj">
                            <select id="gxbjOrder" class="form-control shubiao2" style="float: right;color: white;width: 15%;background-color: #252525;">
                                <option value="0"  selected="selected">默认</option>
                                <option  value="1" >最新</option>
                                <option  value="2">最早</option>
                                <option  value="3">按热度升序</option>
                                <option  value="4">按热度降序</option>
                            </select>

                            <br>
                            <ul class="row" style="margin-top: 10px">
                                <!--共享图列表-->
                            </ul>

                            <!--上一页 下一页-->
                            <nav aria-label="...">
                                <ul class="pager gxbjpager">
                                    <li class="previous"><a href="#"><span aria-hidden="true">&larr;</span> 上一页</a></li>

                                    <li class="next"><a href="#">下一页 <span aria-hidden="true">&rarr;</span></a></li>
                                </ul>
                            </nav>

                            <!--第几页-->
                            <div class="pageIndexBtn row ">

                            <span>
                                第<input type="number" id="gxbjCurrPage"  value="0" style="width:41px ;color: black; border-radius: 4px;"/>
                                /<span id="gxbjPageTotal">0</span>页
                                <a  href="javascript:void(0)" style="text-decoration: none;" onclick="gotoGxbjPage()"><span class="kongjianbnt" >GO!</span></a>
                            </span>

                            </div>


                        </div>
                        <!--上传图片-->
                        <div role="tabpanel" class="tab-pane fade my-tab-pane" id="sctp">
                            <span  class="label label-danger" style="margin-top: 6px;">为保证背景清晰,请上传高清宽屏图片</span>
                            <form id="sctpform" method="post">
                                <input type="file" name="picFileUp" id="picFileUp" style="display: none;" />
                            </form>

                            <img id="picUp" src="/img/上传图片.png" alt="cscscs" class="img-thumbnail" style="width: 182px; height: 100px; margin-top: 29px;">
                            <br />

                            <a  href="javascript:void(0)" style="text-decoration: none;" ><div class="kongjianbnt" onclick="rollback_background(this)">还原</div></a>
                            <a  href="javascript:void(0)" style="text-decoration: none; width: 131px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;" >
                                <div class="kongjianbnt" style="width: 131px;" onclick="biying_background(this)">使用每日必应图</div>
                            </a>

                            <div >是否公开此图供其他用户使用:
                                <input type="checkbox" id="flex-3">
                                <label for="flex-3" class="green" style="margin-bottom: -4px;" id="isPublic" ></label>
                            </div>



                        </div>
                        <!--我的上传-->
                        <div role="tabpanel" class="tab-pane fade" id="wdsc">
                            <span class="label label-warning">鼠标左键可选择，右键可删除</span>
                            <ul class="row">
                                <!--我的上传缩略图列表-->
                            </ul>

                            <!--上一页 下一页-->
                            <nav aria-label="...">
                                <ul class="pager wdscpager">
                                    <li class="previous"><a href="#"><span aria-hidden="true">&larr;</span> 上一页</a></li>

                                    <li class="next"><a href="#">下一页 <span aria-hidden="true">&rarr;</span></a></li>
                                </ul>
                            </nav>

                            <!--第几页-->
                            <div class="pageIndexBtn row ">

                            <span>
                                第<input type="number" id="wdscCurrPage"  value="0" style="width:41px ;color: black; border-radius: 4px;"/>
                                /<span id="wdscPageTotal">0</span>页
                                <a  href="javascript:void(0)" style="text-decoration: none;" onclick="gotoWdscPage()"><span class="kongjianbnt" >GO!</span></a>
                            </span>

                            </div>

                        </div>	<!--我的上传-->

                    </div>


                </div>
                <!--背景特效-->
                <div role="tabpanel" class="tab-pane fade" id="bjtx">

                    <ul class="nav nav-tabs" role="tablist" >
                        <li  role="presentation" onclick="load_bjtx_tm(this)" ><a  href="#bjtx_tm" aria-controls="" role="tab" data-toggle="tab">透明特效</a></li>
                        <li role="presentation" onclick="load_bjtx_btm(this)"><a href="#bjtx_btm" aria-controls="" role="tab" data-toggle="tab">不透明特效</a></li>

                    </ul>

                    <div class="tab-content"  >

                        <!--透明背景特效-->
                        <div role="tabpanel" class="tab-pane fade" id="bjtx_tm">
                            <span class="label label-warning">注:所有特效均来源于网络,如站长之家等，侵删！</span>
                            <select id="tmtxOrder" class="form-control shubiao2" style="float: right;color: white;width: 15%;background-color: #252525;">
                                <option value="0"  selected="selected">默认</option>
                                <option  value="1" >最新</option>
                                <option  value="2">最早</option>
                                <option  value="3">按热度升序</option>
                                <option  value="4">按热度降序</option>
                            </select>

                            <br>
                            <ul class="row" style="margin-top: 10px">
                                <!--透明背景特效列表-->
                            </ul>

                            <!--上一页 下一页-->
                            <nav aria-label="...">
                                <ul class="pager tmbjtxpager">
                                    <li class="previous"><a href="#"><span aria-hidden="true">&larr;</span> 上一页</a></li>

                                    <li class="next"><a href="#">下一页 <span aria-hidden="true">&rarr;</span></a></li>
                                </ul>
                            </nav>

                            <!--第几页-->
                            <div class="pageIndexBtn row ">

                            <span>
                                第<input type="number" id="tmbjtxCurrPage"  value="0" style="width:41px ;color: black; border-radius: 4px;"/>
                                /<span id="tmbjtxPageTotal">0</span>页
                                <a  href="javascript:void(0)" style="text-decoration: none;" onclick="gotoTmbjtxPage()"><span class="kongjianbnt" >GO!</span></a>
                            </span>

                            </div>
                        </div>


                        <!--不透明背景特效-->
                        <div role="tabpanel" class="tab-pane fade" id="bjtx_btm">
                            <span class="label label-warning">注:不透明背景特效，会遮住原有的背景图片!!!</span>
                            <select id="btmtxOrder" class="form-control shubiao2" style="float: right;color: white;width: 15%;background-color: #252525;">
                                <option value="0"  selected="selected">默认</option>
                                <option  value="1" >最新</option>
                                <option  value="2">最早</option>
                                <option  value="3">按热度升序</option>
                                <option  value="4">按热度降序</option>
                            </select>

                            <br>
                            <ul class="row" style="margin-top: 10px">
                                <!--透明背景特效列表-->
                            </ul>

                            <!--上一页 下一页-->
                            <nav aria-label="...">
                                <ul class="pager btmbjtxpager">
                                    <li class="previous"><a href="#"><span aria-hidden="true">&larr;</span> 上一页</a></li>

                                    <li class="next"><a href="#">下一页 <span aria-hidden="true">&rarr;</span></a></li>
                                </ul>
                            </nav>

                            <!--第几页-->
                            <div class="pageIndexBtn row ">

                            <span>
                                第<input type="number" id="btmbjtxCurrPage"  value="0" style="width:41px ;color: black; border-radius: 4px;"/>
                                /<span id="btmbjtxPageTotal">0</span>页
                                <a  href="javascript:void(0)" style="text-decoration: none;" onclick="gotoBtmbjtxPage()"><span class="kongjianbnt" >GO!</span></a>
                            </span>

                            </div>
                        </div>

                    </div>

                </div>

                <!--搜索框样式-->
                <div role="tabpanel" class="tab-pane fade" id="sskys">
                    <!--描述：搜索框样式-->
                    <!--搜索框颜色-->
                    <table style="margin: 0 auto; line-height: 40px;">
                        <tr>
                            <td style="font-size: 17px;font-weight: bold;">搜索框默认颜色:</td>
                            <td><div id="sousuobgcolor"><div style="background-color: #0000ff;"></div></div></td>
                        </tr>
                        <tr>
                            <td style="font-size: 17px;font-weight: bold;">输入时边框变色:</td>
                            <td><select id="sousuoIsChange" style="background-color: black;border-radius: 3px;">
                                <option value="1">是</option>
                                <option value="0">否</option>
                            </select></td>
                        </tr>

                        <tr >
                            <td style="font-size: 17px;font-weight: bold;">搜索框字体颜色:</td>
                            <td><div id="sousuofontcolor"><div style="background-color: #0000ff;"></div></div></td>
                        </tr>

                        <tr>
                            <td style="font-size: 17px;font-weight: bold;">输入时字体变色:</td>
                            <td><select id="sousuofontIsChange" style="background-color: black;border-radius: 3px;">
                                <option value="1">是</option>
                                <option value="0">否</option>
                            </select></td>
                        </tr>
                    </table>
                    <br /><br />

                    <div class="row">
                        <div class="col-lg-2 col-md-2 col-xs-2"></div>
                        <div class="col-lg-8 col-md-8 col-xs-8 " style="" >
                            <div class="row " id="sousuoChangeView"  style="height: 50px; border-radius: 33px 33px 33px 33px; box-shadow:1px 0px 0px 5px rgba(0, 0, 0, 01), 1px 1px 20px 6px rgba(0, 0, 0, 01); background-color: rgba(0, 0, 0, 0.09); ">
                                <div class="col-lg-1 col-md-1 col-xs-1 shubiao2" style=" width: 6%; height: 50px; padding:0; padding-left: 10px; margin-top: 10px; text-align: center; "  >
                                    <a href="javascript:void(0)" style="width: 40px; height: 40px; " >
                                        <img  width="30px" height="30px" src="/material/img/search/icon_百度logo.png"  />
                                    </a>
                                </div>
                                <div class="col-lg-10 col-md-10 col-xs-10 ">
                                    <input type="text" class="form-control sousuo" placeholder="搜索框样式编辑预览"  oninput="oninputchange()"  style=" text-align:center"></input>
                                </div>

                            </div>
                        </div>

                    </div>

                    <br /><br />

                </div>

                <div role="tabpanel" class="tab-pane fade" id="settings">
                    adssssssssssssssssss<br />
                    adssssssssssssssssss<br />
                    adssssssssssssssssss<br />
                    adssssssssssssssssss<br />
                    adssssssssssssssssss<br />
                    adssssssssssssssssss<br />
                    adssssssssssssssssss<br />
                    adssssssssssssssssss<br />
                    adssssssssssssssssss<br />
                    adssssssssssssssssss<br />
                </div>
            </div>

        </div>
    </div>
</div>


<!--加载svg-->
<div class="my-load-div" >
    <!--<span class="whirly-loader">Loading…</span>	-->
    <div class="scene">
        <svg version="1.1" id="dc-spinner" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width:"38"="" height:"38"="" viewBox="0 0 38 38" preserveAspectRatio="xMinYMin meet">
        <text x="14" y="21" font-family="Monaco" font-size="2px" style="letter-spacing:0.6" fill="grey">LOADING
            <animate attributeName="opacity" values="0;1;0" dur="1.8s" repeatCount="indefinite">
            </animate></text>
        <path fill="#373a42" d="M20,35c-8.271,0-15-6.729-15-15S11.729,5,20,5s15,6.729,15,15S28.271,35,20,35z M20,5.203
    C11.841,5.203,5.203,11.841,5.203,20c0,8.159,6.638,14.797,14.797,14.797S34.797,28.159,34.797,20
    C34.797,11.841,28.159,5.203,20,5.203z">
        </path>

        <path fill="#373a42" d="M20,33.125c-7.237,0-13.125-5.888-13.125-13.125S12.763,6.875,20,6.875S33.125,12.763,33.125,20
    S27.237,33.125,20,33.125z M20,7.078C12.875,7.078,7.078,12.875,7.078,20c0,7.125,5.797,12.922,12.922,12.922
    S32.922,27.125,32.922,20C32.922,12.875,27.125,7.078,20,7.078z">
        </path>

        <path fill="#2AA198" stroke="#2AA198" stroke-width="0.6027" stroke-miterlimit="10" d="M5.203,20
			c0-8.159,6.638-14.797,14.797-14.797V5C11.729,5,5,11.729,5,20s6.729,15,15,15v-0.203C11.841,34.797,5.203,28.159,5.203,20z" transform="rotate(269.286 20 20)">
            <animateTransform attributeName="transform" type="rotate" from="0 20 20" to="360 20 20" calcMode="spline" keySplines="0.4, 0, 0.2, 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
        </path>

        <path fill="#859900" stroke="#859900" stroke-width="0.2027" stroke-miterlimit="10" d="M7.078,20
  c0-7.125,5.797-12.922,12.922-12.922V6.875C12.763,6.875,6.875,12.763,6.875,20S12.763,33.125,20,33.125v-0.203
  C12.875,32.922,7.078,27.125,7.078,20z" transform="rotate(351.693 20 20)">
            <animateTransform attributeName="transform" type="rotate" from="0 20 20" to="360 20 20" dur="1.8s" repeatCount="indefinite"></animateTransform>
        </path>
        </svg>
    </div>
</div>
<!--遮罩-->
<div class="zhezhao" ></div>
<!--背景特效-->
<iframe id="iframe_bjtx"  src="/material/special/transparent/10000/10000.html"  name="iframe_a" frameborder="0" marginwidth="0px" scrolling="no" width="100%" height="110%" style="position: absolute; top: -10px; z-index: -999;">

</iframe>

<!--********************************************************************-->
<!--搜索框样式-->
<script th:inline ="javascript" type="text/javascript" th:if="${user.username!=null}">
    var sousuoIsChange=null; //搜索框是否变色
    var sousuobgcolor=null;  //搜索框颜色
    var sousuofontcolor=null;//字体颜色
    var sousuofontIsChange=null;//字体是否变色

    var defaultsousuobgcolor="#ff0000";//默认搜索框颜色
    var defaultIsChange=1;//默认边框是否变色

    var defaultsousuofontcolor="#000000";//默认字体颜色
    var defaultsousuofontIsChange=1;//字体是否变色

    sousuoIsChange=defaultIsChange;
    sousuofontIsChange=defaultsousuofontIsChange;
    // if(defaultsousuobgcolor!==null&&defaultsousuobgcolor.trim().length>0){
    //     $("#sousuoChangeView,#sousuobox").css("box-shadow","1px 0px 0px 5px "+defaultsousuobgcolor+", 1px 1px 20px 6px "+defaultsousuobgcolor);
    //     $('#sousuobgcolor div').css('backgroundColor',defaultsousuobgcolor );
    // }
    $(function(){
        //搜索框取色
        $('#sousuobgcolor').ColorPicker({
            color: defaultsousuobgcolor,
            onShow: function (colpkr) {
                $(colpkr).fadeIn(500);
                return false;
            },
            onHide: function (colpkr) {
                $(colpkr).fadeOut(500);
                return false;
            },
            onChange: function (hsb, hex, rgb) {
                $('#sousuobgcolor div').css('backgroundColor', '#' + hex);
                sousuobgcolor='#'+hex;//记录选择的颜色

               // box-shadow:1px 0px 0px 5px rgba(0, 0, 0, 01), 1px 1px 20px 6px rgba(0, 0, 0, 01);
                $("#sousuoChangeView,#sousuobox").css("box-shadow","1px 0px 0px 5px "+sousuobgcolor+", 1px 1px 20px 6px "+sousuobgcolor);
            }
        });
        //边框是否变色
        $("#sousuoIsChange").change(function () {
         //   console.log($(this).val());
            sousuoIsChange=parseInt($(this).val());// 1 yes , 0 no
        });


        //搜索框字体取色
        $('#sousuofontcolor').ColorPicker({
            color: defaultsousuofontcolor,
            onShow: function (colpkr) {
                $(colpkr).fadeIn(500);
                return false;
            },
            onHide: function (colpkr) {
                $(colpkr).fadeOut(500);
                return false;
            },
            onChange: function (hsb, hex, rgb) {
                $('#sousuofontcolor div').css('backgroundColor', '#' + hex);
                sousuofontcolor='#' + hex;
            }
        });
        //边框是否变色
        $("#sousuofontIsChange").change(function () {
         //   console.log($(this).val());
            sousuofontIsChange=parseInt($(this).val());// 1 yes , 0 no
        });


    });

</script>


<!--背景图片-->
<script th:inline ="javascript" type="text/javascript" >
    var bgpath=[[${bgImg}]]; //背景图片
    // console.log(bgpath!=null);
    var bgtxpath=[[${bgSpe.special}]]; //背景特效
    var isTransparent=[[${bgSpe.transparent}]];

    if(bgtxpath!==null&&bgtxpath.trim() !== "") $("#iframe_bjtx").attr("src",bgtxpath);
    //&&(bgtxpath===null||bgtxpath.trim()===""||isTransparent===true)

    if((bgtxpath===null||bgtxpath.trim()===""||isTransparent===true)){
        if(bgpath!==null&&bgpath.trim() !== "") $("body").css("background-image","url('"+bgpath+"')");
    }else {
        setTimeout(function () {
            if(bgpath!==null&&bgpath.trim() !== "") $("body").css("background-image","url('"+bgpath+"')");
        },2000);
    }

    var default_background=$("body").css("background-image");//初始背景图
    var currBgImg=null;//当前背景图md5
</script>

<!--我的背景上传分页-->
<script type="text/javascript" th:inline ="javascript" th:if="${user.username!=null}">


    //右键删除此上传
    var curRightWdscImg=null;//当前右键选择的图片md5
    function wdscRightKey() {
        $("#wdsc .min-img").addClass("wdsc-min-img");
        class2context('wdsc-min-img', "菜单",
            [
                [
                    "<img src='/material/img/rightMenu/个性化.png' width='25px' /> 删除此图", "deleteWdscImg()"
                ]
            ]);
    }
    //删除此上传图片
    function deleteWdscImg() {
        if(curRightWdscImg!==null&&curRightWdscImg==currBgImg){

            Swal.fire({
                title: "无法删除已预设为背景图的图片",
                text: "",
                type: "error",
                confirmButtonColor:"#ad1d11",
                allowOutsideClick: false,
                confirmButtonText: "确定"
            });
            return;
        }

        //ajax请求删除
       if(curRightWdscImg!==null){


           Swal.fire({
               title: "是否删除此上传图片",
               text: "",
               type: "warning",
               showCancelButton: true,
               confirmButtonColor: '#3085d6',
               cancelButtonColor: '#d33',
               cancelButtonText:"<span class='shubiao2'>点错了</span>",
               confirmButtonText: "确认删除!"
           }).then((isConfirm) => {
                if(isConfirm.value){
                    //Swal.fire({text:"点了确定",title:"das", type:'success'});
               $.post("/bgImg/del/md5/"+curRightWdscImg,function (data) {
                   if (data.status===1){
                       Swal.fire({
                           title: data.msg,
                           text: "",
                           type: "success",
                           confirmButtonColor:"#1aad19",
                           allowOutsideClick: false,
                           confirmButtonText: "确定"
                       }).then((isConfirm) => {
                           $("#wdsc .wdsc-min-img[md5='"+curRightWdscImg+"']").remove();
                           console.log(curRightWdscImg);
                           curRightWdscImg=null;//置空
                       });

                   }else if(data.status===2){
                       Swal.fire({
                           title: data.msg,
                           text: "",
                           type: "error",
                           confirmButtonColor:"#ad1d11",
                           allowOutsideClick: false,
                           confirmButtonText: "确定"
                       });
                   }
               },"json");

             }


           });


       }



    }

    $("#wdsc").on("mousedown",".wdsc-min-img",function(event){
        if(event.button===2){//右键
            curRightWdscImg=$(this).attr("md5");
        }

    });
   //鼠标移入
    $("#wdsc").on("mouseenter",".wdsc-min-img",function(){
        $(this).addClass("min-img-active");
    });
    //鼠标移出
    $("#wdsc").on("mouseleave",".wdsc-min-img",function(){
       if(currBgImg==null||currBgImg!==$(this).attr("md5"))
           $(this).removeClass("min-img-active");
    });
    //*********************************************************************************
    //加载我的上传缩略图列表
    var pageNumb=-1;//页码
    var totalPage=0 //总页数

    function load_wdsc(obj){
        var aTab= $(obj).children("a");
        var aHref=$(aTab).attr("href");
        var imgul=$(aHref).children("ul");
        var liList=$(imgul).children("li");
        //  console.log(liList.length);
        if(liList.length===0){
            $.get("/bgImg/myUpLoad?page=1",function(data){
                pageNumb=data.page;//获取当前页码
                $("#wdscCurrPage").val(pageNumb);

                totalPage=Math.ceil(data.total/8);//总页数
                $("#wdscPageTotal").text(totalPage);
                if(!data.hasNextPage){
                    $(".wdscpager .next").hide();
                }else {
                    $(".wdscpager .next").show();
                }
                if(!data.hasPreviousPage){
                    $(".wdscpager .previous").hide();
                }else {
                    $(".wdscpager .previous").show();
                }
                $.each(data.rows, function(index,c) {
                    if(currBgImg!=null&&currBgImg==c.md5){
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img min-img-active' ></li>");
                    }else
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img' ></li>");
                });

                wdscRightKey();//添加右键删除菜单
            },"json");


        }

    }
    $(".wdscpager .next").click(function () {
        if(pageNumb+1<=totalPage){
            $.get("/bgImg/myUpLoad?page="+(pageNumb+1),function(data){
                pageNumb=data.page;//获取当前页码
                $("#wdscCurrPage").val(pageNumb);
                if(!data.hasNextPage){
                    $(".wdscpager .next").hide();
                }else {
                    $(".wdscpager .next").show();
                }
                if(!data.hasPreviousPage){
                    $(".wdscpager .previous").hide();
                }else {
                    $(".wdscpager .previous").show();
                }

                var imgul=$("#wdsc").children("ul");
                $(imgul).children("li").remove();
                $.each(data.rows, function(index,c) {
                    if(currBgImg!=null&&currBgImg==c.md5){
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img min-img-active' ></li>");
                    }else
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img' ></li>");

                });
                wdscRightKey();//添加右键删除菜单
            },"json");

        }
    });

    $(".wdscpager .previous").click(function () {

        if((pageNumb-1)>0){
            $.get("/bgImg/myUpLoad?page="+(pageNumb-1),function(data){
                pageNumb=data.page;//获取当前页码
                $("#wdscCurrPage").val(pageNumb);
                if(!data.hasNextPage){
                    $(".wdscpager .next").hide();
                }else {
                    $(".wdscpager .next").show();
                }
                if(!data.hasPreviousPage){
                    $(".wdscpager .previous").hide();
                }else {
                    $(".wdscpager .previous").show();
                }

                var imgul=$("#wdsc").children("ul");
                $(imgul).children("li").remove();
                $.each(data.rows, function(index,c) {
                    if(currBgImg!=null&&currBgImg==c.md5){
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img min-img-active' ></li>");
                    }else
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img' ></li>");                });

                wdscRightKey();//添加右键删除菜单
                },"json");

        }
    });
    function gotoWdscPage() {
       var page= $("#wdscCurrPage").val();
       page=Math.floor(page);
       if (page===pageNumb||page<1||page>totalPage)return;
        $.get("/bgImg/myUpLoad?page="+page,function(data){
            pageNumb=data.page;//获取当前页码
            $("#wdscCurrPage").val(pageNumb);
            if(!data.hasNextPage){
                $(".wdscpager .next").hide();
            }else {
                $(".wdscpager .next").show();
            }
            if(!data.hasPreviousPage){
                $(".wdscpager .previous").hide();
            }else {
                $(".wdscpager .previous").show();
            }

            var imgul=$("#wdsc").children("ul");
            $(imgul).children("li").remove();
            $.each(data.rows, function(index,c) {
                if(currBgImg!=null&&currBgImg==c.md5){
                    $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img min-img-active' ></li>");
                }else
                    $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img' ></li>");

            });
            wdscRightKey();//添加右键删除菜单
        },"json");


    }
//选中缩略图
$(function () {

    $("#wdsc").on("click",".min-img",function (event) {
        var min_reg = new RegExp("min_","g");
        $("#wdsc .min-img").removeClass("min-img-active");
        $(this).addClass("min-img-active");
        currBgImg=$(this).attr("md5");//获取选中的md5
        var path=$(this).prop("src").replace(min_reg,"");
        $("body").css("background-image","url('"+path+"')");

        //清空上传背景图表单
       if ($("#picFileUp").val().trim()!==""){
           $("#picFileUp").val("");
           $("#picUp").prop("src", "img/上传图片.png");
       }

        //把共享背景的选中更新
        $("#gxbj .min-img").removeClass("min-img-active");
        var gxbjMinImg= $("#gxbj .min-img");
        if(gxbjMinImg.length>0){
            $.each(gxbjMinImg,function (index,c) {
                if($(c).attr("md5")===currBgImg){
                    $(c).addClass("min-img-active");
                }
            });
        }

    });

});

</script>

<!-- 共享背景图片分页-->
<script type="text/javascript" th:inline ="javascript" th:if="${user.username!=null}">
    //*********************************************************************************
    //加载我的上传缩略图列表
    var gxbjpageNumb=-1;//页码
    var gxbjtotalPage=0 //总页数

//排序加载
    $("#gxbjOrder").change(function () {
        //排序规则
        var gxbjOrder=$("#gxbjOrder").val();
        var requestPath="/bgImg/ispublic/true?";
        if(gxbjOrder==="1"){
            requestPath=requestPath+"field=1&order=2&";
        }else if(gxbjOrder==="2"){
            requestPath=requestPath+"field=1&order=1&";
        }else if(gxbjOrder==="3"){
            requestPath=requestPath+"field=2&order=1&";
        }else if(gxbjOrder==="4"){
            requestPath=requestPath+"field=2&order=2&";
        }
        $.get(requestPath+"page=1",function(data){
            gxbjpageNumb=data.page;//获取当前页码
            $("#gxbjCurrPage").val(gxbjpageNumb);
            if(!data.hasNextPage){
                $(".gxbjpager .next").hide();
            }else {
                $(".gxbjpager .next").show();
            }
            if(!data.hasPreviousPage){
                $(".gxbjpager .previous").hide();
            }else {
                $(".gxbjpager .previous").show();
            }

            var imgul=$("#gxbj").children("ul");
            $(imgul).children("li").remove();
            $.each(data.rows, function(index,c) {
                if(currBgImg!=null&&currBgImg==c.md5){
                    $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img min-img-active' ><p class='up-user' >上传者："+c.authorName+"</p></li>");
                }else
                    $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img' ><p class='up-user' >上传者："+c.authorName+"</p></li>");

            });
        },"json");

    });

    function load_gxbj(obj){
        var aTab= $(obj).children("a");
        var aHref=$(aTab).attr("href");
        var imgul=$(aHref).children("ul");
        var liList=$(imgul).children("li");
        //  console.log(liList.length);
        if(liList.length===0){
            $.get("/bgImg/ispublic/true?page=1",function(data){
                gxbjpageNumb=data.page;//获取当前页码
                $("#gxbjCurrPage").val(gxbjpageNumb);

                gxbjtotalPage=Math.ceil(data.total/8);//总页数
                $("#gxbjPageTotal").text(gxbjtotalPage);
                if(!data.hasNextPage){
                    $(".gxbjpager .next").hide();
                }else {
                    $(".gxbjpager .next").show();
                }
                if(!data.hasPreviousPage){
                    $(".gxbjpager .previous").hide();
                }else {
                    $(".gxbjpager .previous").show();
                }
                $.each(data.rows, function(index,c) {
                    if(currBgImg!=null&&currBgImg==c.md5){
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img min-img-active' ><p class='up-user' >上传者："+c.authorName+"</p></li>");
                    }else
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img' ><p class='up-user' >上传者："+c.authorName+"</p></li>");
                });

            },"json");


        }

    }
    $(".gxbjpager .next").click(function () {
        if(gxbjpageNumb+1<=gxbjtotalPage){
            //排序规则
            var gxbjOrder=$("#gxbjOrder").val();
            var requestPath="/bgImg/ispublic/true?";
            if(gxbjOrder==="1"){
                requestPath=requestPath+"field=1&order=2&";
            }else if(gxbjOrder==="2"){
                requestPath=requestPath+"field=1&order=1&";
            }else if(gxbjOrder==="3"){
                requestPath=requestPath+"field=2&order=1&";
            }else if(gxbjOrder==="4"){
                requestPath=requestPath+"field=2&order=2&";
            }

            $.get(requestPath+"page="+(gxbjpageNumb+1),function(data){
                gxbjpageNumb=data.page;//获取当前页码
                $("#gxbjCurrPage").val(gxbjpageNumb);
                if(!data.hasNextPage){
                    $(".gxbjpager .next").hide();
                }else {
                    $(".gxbjpager .next").show();
                }
                if(!data.hasPreviousPage){
                    $(".gxbjpager .previous").hide();
                }else {
                    $(".gxbjpager .previous").show();
                }

                var imgul=$("#gxbj").children("ul");
                $(imgul).children("li").remove();
                $.each(data.rows, function(index,c) {
                    if(currBgImg!=null&&currBgImg==c.md5){
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img min-img-active' ><p class='up-user' >上传者："+c.authorName+"</p></li>");
                    }else
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img' ><p class='up-user' >上传者："+c.authorName+"</p></li>");

                });
            },"json");

        }
    });

    $(".gxbjpager .previous").click(function () {

        if((gxbjpageNumb-1)>0){
            //排序规则
            var gxbjOrder=$("#gxbjOrder").val();
            var requestPath="/bgImg/ispublic/true?";
            if(gxbjOrder==="1"){
                requestPath=requestPath+"field=1&order=2&";
            }else if(gxbjOrder==="2"){
                requestPath=requestPath+"field=1&order=1&";
            }else if(gxbjOrder==="3"){
                requestPath=requestPath+"field=2&order=1&";
            }else if(gxbjOrder==="4"){
                requestPath=requestPath+"field=2&order=2&";
            }



            $.get(requestPath+"page="+(gxbjpageNumb-1),function(data){
                gxbjpageNumb=data.page;//获取当前页码
                $("#gxbjCurrPage").val(gxbjpageNumb);

                if(!data.hasNextPage){
                    $(".gxbjpager .next").hide();
                }else {
                    $(".gxbjpager .next").show();
                }
                if(!data.hasPreviousPage){
                    $(".gxbjpager .previous").hide();
                }else {
                    $(".gxbjpager .previous").show();
                }
                var imgul=$("#gxbj").children("ul");
                $(imgul).children("li").remove();
                $.each(data.rows, function(index,c) {
                    if(currBgImg!=null&&currBgImg==c.md5){
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img min-img-active' ><p class='up-user' >上传者："+c.authorName+"</p></li>");
                    }else
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img' ><p class='up-user' >上传者："+c.authorName+"</p></li>");                });

            },"json");

        }
    });
    function gotoGxbjPage() {

        var page= $("#gxbjCurrPage").val();
        page=Math.floor(page);

        if (page===gxbjpageNumb||page<1||page>gxbjtotalPage)return;
        //排序规则
        var gxbjOrder=$("#gxbjOrder").val();
        var requestPath="/bgImg/ispublic/true?";
        if(gxbjOrder==="1"){
            requestPath=requestPath+"field=1&order=2&";
        }else if(gxbjOrder==="2"){
            requestPath=requestPath+"field=1&order=1&";
        }else if(gxbjOrder==="3"){
            requestPath=requestPath+"field=2&order=1&";
        }else if(gxbjOrder==="4"){
            requestPath=requestPath+"field=2&order=2&";
        }
        $.get(requestPath+"page="+page,function(data){
            gxbjpageNumb=data.page;//获取当前页码
            $("#gxbjCurrPage").val(gxbjpageNumb);
            if(!data.hasNextPage){
                $(".gxbjpager .next").hide();
            }else {
                $(".gxbjpager .next").show();
            }
            if(!data.hasPreviousPage){
                $(".gxbjpager .previous").hide();
            }else {
                $(".gxbjpager .previous").show();
            }

            var imgul=$("#gxbj").children("ul");
            $(imgul).children("li").remove();
            $.each(data.rows, function(index,c) {
                if(currBgImg!=null&&currBgImg==c.md5){
                    $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img min-img-active' ><p class='up-user' >上传者："+c.authorName+"</p></li>");
                }else
                    $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img' ><p class='up-user' >上传者："+c.authorName+"</p></li>");

            });
        },"json");


    }
    //选中缩略图
    $(function () {
        $("#gxbj").on("click",".min-img",function (event) {
            var min_reg = new RegExp("min_","g");
            $("#gxbj .min-img").removeClass("min-img-active");
            $(this).addClass("min-img-active");
            currBgImg=$(this).attr("md5");//获取选中的md5
            var path=$(this).prop("src").replace(min_reg,"");
            $("body").css("background-image","url('"+path+"')");

            //清空上传背景图表单
            if ($("#picFileUp").val().trim()!==""){
                $("#picFileUp").val("");
                $("#picUp").prop("src", "img/上传图片.png");
            }

            //把我的上传的选中更新
            $("#wdsc .min-img").removeClass("min-img-active");
            var wdscMinImg= $("#wdsc .min-img");
            if(wdscMinImg.length>0){
                $.each(wdscMinImg,function (index,c) {
                   if($(c).attr("md5")===currBgImg){
                       $(c).addClass("min-img-active");
                   }
                });
            }


        });


        //鼠标移入
        $("#gxbj").on("mouseenter",".min-img",function(){
            $(this).addClass("min-img-active");
        });
        //鼠标移出
        $("#gxbj").on("mouseleave",".min-img",function(){
            if(currBgImg==null||currBgImg!==$(this).attr("md5"))
                $(this).removeClass("min-img-active");
        });



    });
</script>

<!--背景图片上传-->
<script type="text/javascript" th:inline ="javascript" th:if="${user.username!=null}">
    //上传
    $("#picUp").click(function(){
        $("#picFileUp").click();
    });

    var isPicPublic=false;//图片默认不共享
    $("#isPublic").click(function(){
        isPicPublic=!isPicPublic;
        //console.log(isPicPublic);
    });


    $("#picFileUp").change(function(){
        if($(this).val().trim()!==""){

            var filePath = $(this).val();
            var fileformat = filePath.substring(filePath.lastIndexOf(".")).toLowerCase();
            if(!fileformat.match(/.png|.jpg|jpeg|.gif/)) {
                Swal.fire("图片格式错误",'文件格式必须为：png/jpg/jpeg/gif',"error");
                $(this).val("");
                return;
            }

            if(((this.files[0].size).toFixed(2))<(1024*1024*0.3)){

                Swal.fire("图片模糊","上传图片太模糊","error");
                $(this).val("");
                return;
            }

            var src = window.URL.createObjectURL(this.files[0]);
            $("#picUp").prop("src", src);
            $("body").css("background-image","url("+src+")");

            currBgImg=null;//清空选中图md5
            $("#wdsc .min-img").removeClass("min-img-active");

        }
    });

    //回滚背景
    function rollback_background(obj){
        $("body").css("background-image",default_background);
        $("#picFileUp").val("");
        $("#picUp").prop("src", "img/上传图片.png");
        currBgImg=null;//清空选中图pid
        $("#wdsc .min-img").removeClass("min-img-active");
        threeBtn(obj);
    }

    //采用必应图
    function biying_background(obj) {
        $.get("/bgImg/biying",function (data) {
            if(data.msg==="1"){
                currBgImg="biying";
                $("body").css("background-image","url('"+data.data+"')");
                //console.log(data.data);
                //把我的上传背景图选择删除
                $("#wdsc .min-img").removeClass("min-img-active");
                //把共享背景的选中更新
                $("#gxbj .min-img").removeClass("min-img-active");
                //清空上传背景图表单
                if ($("#picFileUp").val().trim()!==""){
                    $("#picFileUp").val("");
                    $("#picUp").prop("src", "img/上传图片.png");
                }

                Swal.fire("设置成功,保存后生效!!!","","success");
            }else {
                Swal.fire("服务器错误,设置失败!!!","请稍后再试！！！","error");
            }
        }).error(function () {
            Swal.fire("服务器错误,设置失败!!!","请稍后再试！！！","error");
        });
        threeBtn(obj);
    }

</script>

<!--********************************************************************-->
<!--背景特效-->
<script type="text/javascript" th:inline ="javascript" th:if="${user.username!=null}">
    //初始化参数
   // var bgtxpath=[[${bgSpe.special}]];

   // if(bgtxpath!==null&&bgtxpath.trim() !== "") $("#iframe_bjtx").attr("src",bgtxpath);
    var default_backgroundSpe=$("#iframe_bjtx").attr("src");//初始背景图
    var currBgSpe=null;//当前特效id
    var tmbjtxCurrPage=-1; //透明特效页码
    var tmbjtxPageTotal=-1;//透明特效总页数

    var btmbjtxCurrPage=-1; //不透明特效页码
    var btmbjtxPageTotal=-1;//不透明特效总页数

    //tm排序加载
    $("#tmtxOrder").change(function () {
        //排序规则
        var tmtxOrder=$("#tmtxOrder").val();
        var requestPath="/bgSpe/transparent/true?";
        if(tmtxOrder==="1"){
            requestPath=requestPath+"field=1&order=2&";
        }else if(tmtxOrder==="2"){
            requestPath=requestPath+"field=1&order=1&";
        }else if(tmtxOrder==="3"){
            requestPath=requestPath+"field=2&order=1&";
        }else if(tmtxOrder==="4"){
            requestPath=requestPath+"field=2&order=2&";
        }

        $.get(requestPath+"page=1",function(data){
            tmbjtxCurrPage=data.page;//获取当前页码
            $("#tmbjtxCurrPage").val(tmbjtxCurrPage);

            tmbjtxPageTotal=Math.ceil(data.total/8);//总页数
            $("#tmbjtxPageTotal").text(tmbjtxPageTotal);

            if(!data.hasNextPage){
                $(".tmbjtxpager .next").hide();
            }else {
                $(".tmbjtxpager .next").show();
            }
            if(!data.hasPreviousPage){
                $(".tmbjtxpager .previous").hide();
            }else {
                $(".tmbjtxpager .previous").show();
            }
            var imgul=$("#bjtx_tm").children("ul");
            $(imgul).children("li").remove();
            $.each(data.rows, function(index,c) {
                if(currBgSpe!=null&&currBgSpe==c.sid){
                    $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img min-img-active' ><p class='up-user' >"+c.name+"</p></li>");
                }else
                    $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img' ><p class='up-user' >"+c.name+"</p></li>");
            });

        },"json");



    });

    //btm排序加载
    $("#btmtxOrder").change(function () {
        //排序规则
        var btmtxOrder=$("#btmtxOrder").val();
        var requestPath="/bgSpe/transparent/false?";
        if(btmtxOrder==="1"){
            requestPath=requestPath+"field=1&order=2&";
        }else if(btmtxOrder==="2"){
            requestPath=requestPath+"field=1&order=1&";
        }else if(btmtxOrder==="3"){
            requestPath=requestPath+"field=2&order=1&";
        }else if(btmtxOrder==="4"){
            requestPath=requestPath+"field=2&order=2&";
        }

        $.get(requestPath+"page=1",function(data){
            btmbjtxCurrPage=data.page;//获取当前页码
            $("#btmbjtxCurrPage").val(btmbjtxCurrPage);

            btmbjtxPageTotal=Math.ceil(data.total/8);//总页数
            $("#btmbjtxPageTotal").text(btmbjtxPageTotal);

            if(!data.hasNextPage){
                $(".btmbjtxpager .next").hide();
            }else {
                $(".btmbjtxpager .next").show();
            }
            if(!data.hasPreviousPage){
                $(".btmbjtxpager .previous").hide();
            }else {
                $(".btmbjtxpager .previous").show();
            }
            var imgul=$("#bjtx_btm").children("ul");
            $(imgul).children("li").remove();
            $.each(data.rows, function(index,c) {
                if(currBgSpe!=null&&currBgSpe==c.sid){
                    $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img min-img-active' ><p class='up-user' >"+c.name+"</p></li>");
                }else
                    $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img' ><p class='up-user' >"+c.name+"</p></li>");
            });

        },"json");



    });

    //加载透明背景特效
    function load_bjtx_tm(obj){
        var aTab= $(obj).children("a");
        var aHref=$(aTab).attr("href");
        var imgul=$(aHref).children("ul");
        var liList=$(imgul).children("li");
        //  console.log(liList.length);
        if(liList.length===0){

            $.get("/bgSpe/transparent/true?page=1",function(data){
                tmbjtxCurrPage=data.page;//获取当前页码
                $("#tmbjtxCurrPage").val(tmbjtxCurrPage);

                tmbjtxPageTotal=Math.ceil(data.total/8);//总页数
                $("#tmbjtxPageTotal").text(tmbjtxPageTotal);
                
                if(!data.hasNextPage){
                    $(".tmbjtxpager .next").hide();
                }else {
                    $(".tmbjtxpager .next").show();
                }
                if(!data.hasPreviousPage){
                    $(".tmbjtxpager .previous").hide();
                }else {
                    $(".tmbjtxpager .previous").show();
                }
                $.each(data.rows, function(index,c) {
                    if(currBgSpe!=null&&currBgSpe==c.sid){
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img min-img-active' ><p class='up-user' >"+c.name+"</p></li>");
                    }else
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img' ><p class='up-user' >"+c.name+"</p></li>");
                });

            },"json");


        }

    }

    function load_bjtx_btm(obj){
        var aTab= $(obj).children("a");
        var aHref=$(aTab).attr("href");
        var imgul=$(aHref).children("ul");
        var liList=$(imgul).children("li");
        //  console.log(liList.length);
        if(liList.length===0){

            $.get("/bgSpe/transparent/false?page=1",function(data){
                btmbjtxCurrPage=data.page;//获取当前页码
                $("#btmbjtxCurrPage").val(btmbjtxCurrPage);

                btmbjtxPageTotal=Math.ceil(data.total/8);//总页数
                $("#btmbjtxPageTotal").text(btmbjtxPageTotal);

                if(!data.hasNextPage){
                    $(".btmbjtxpager .next").hide();
                }else {
                    $(".btmbjtxpager .next").show();
                }
                if(!data.hasPreviousPage){
                    $(".btmbjtxpager .previous").hide();
                }else {
                    $(".btmbjtxpager .previous").show();
                }
                $.each(data.rows, function(index,c) {
                    if(currBgSpe!=null&&currBgSpe==c.sid){
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img min-img-active' ><p class='up-user' >"+c.name+"</p></li>");
                    }else
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img' ><p class='up-user' >"+c.name+"</p></li>");
                });

            },"json");


        }

    }

    $(".tmbjtxpager .next").click(function () {
        if(tmbjtxCurrPage+1<=tmbjtxPageTotal){
            //排序规则
            var tmtxOrder=$("#tmtxOrder").val();
            var requestPath="/bgSpe/transparent/true?";
            if(tmtxOrder==="1"){
                requestPath=requestPath+"field=1&order=2&";
            }else if(tmtxOrder==="2"){
                requestPath=requestPath+"field=1&order=1&";
            }else if(tmtxOrder==="3"){
                requestPath=requestPath+"field=2&order=1&";
            }else if(tmtxOrder==="4"){
                requestPath=requestPath+"field=2&order=2&";
            }

            $.get(requestPath+"page="+(tmbjtxCurrPage+1),function(data){
                tmbjtxCurrPage=data.page;//获取当前页码
                $("#tmbjtxCurrPage").val(tmbjtxCurrPage);
                if(!data.hasNextPage){
                    $(".tmbjtxpager .next").hide();
                }else {
                    $(".tmbjtxpager .next").show();
                }
                if(!data.hasPreviousPage){
                    $(".tmbjtxpager .previous").hide();
                }else {
                    $(".tmbjtxpager .previous").show();
                }

                var imgul=$("#bjtx_tm").children("ul");
                $(imgul).children("li").remove();
                $.each(data.rows, function(index,c) {
                    if(currBgSpe!=null&&currBgSpe==c.sid){
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img min-img-active' ><p class='up-user' >"+c.name+"</p></li>");
                    }else
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img' ><p class='up-user' >"+c.name+"</p></li>");

                });
            },"json");

        }
    });

    $(".btmbjtxpager .next").click(function () {
        if(btmbjtxCurrPage+1<=btmbjtxPageTotal){
            //排序规则
            var btmtxOrder=$("#btmtxOrder").val();
            var requestPath="/bgSpe/transparent/false?";
            if(btmtxOrder==="1"){
                requestPath=requestPath+"field=1&order=2&";
            }else if(btmtxOrder==="2"){
                requestPath=requestPath+"field=1&order=1&";
            }else if(btmtxOrder==="3"){
                requestPath=requestPath+"field=2&order=1&";
            }else if(btmtxOrder==="4"){
                requestPath=requestPath+"field=2&order=2&";
            }

            $.get(requestPath+"page="+(btmbjtxCurrPage+1),function(data){
                btmbjtxCurrPage=data.page;//获取当前页码
                $("#btmbjtxCurrPage").val(btmbjtxCurrPage);
                if(!data.hasNextPage){
                    $(".btmbjtxpager .next").hide();
                }else {
                    $(".btmbjtxpager .next").show();
                }
                if(!data.hasPreviousPage){
                    $(".btmbjtxpager .previous").hide();
                }else {
                    $(".btmbjtxpager .previous").show();
                }

                var imgul=$("#bjtx_btm").children("ul");
                $(imgul).children("li").remove();
                $.each(data.rows, function(index,c) {
                    if(currBgSpe!=null&&currBgSpe==c.sid){
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img min-img-active' ><p class='up-user' >"+c.name+"</p></li>");
                    }else
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img' ><p class='up-user' >"+c.name+"</p></li>");

                });
            },"json");

        }
    });


    $(".btmbjtxpager .previous").click(function () {
        if(btmbjtxCurrPage-1>0){
            //排序规则
            var btmtxOrder=$("#btmtxOrder").val();
            var requestPath="/bgSpe/transparent/false?";
            if(btmtxOrder==="1"){
                requestPath=requestPath+"field=1&order=2&";
            }else if(btmtxOrder==="2"){
                requestPath=requestPath+"field=1&order=1&";
            }else if(btmtxOrder==="3"){
                requestPath=requestPath+"field=2&order=1&";
            }else if(btmtxOrder==="4"){
                requestPath=requestPath+"field=2&order=2&";
            }

            $.get(requestPath+"page="+(btmbjtxCurrPage-1),function(data){
                btmbjtxCurrPage=data.page;//获取当前页码
                $("#btmbjtxCurrPage").val(btmbjtxCurrPage);
                if(!data.hasNextPage){
                    $(".btmbjtxpager .next").hide();
                }else {
                    $(".btmbjtxpager .next").show();
                }
                if(!data.hasPreviousPage){
                    $(".btmbjtxpager .previous").hide();
                }else {
                    $(".btmbjtxpager .previous").show();
                }

                var imgul=$("#bjtx_btm").children("ul");
                $(imgul).children("li").remove();
                $.each(data.rows, function(index,c) {
                    if(currBgSpe!=null&&currBgSpe==c.sid){
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img min-img-active' ><p class='up-user' >"+c.name+"</p></li>");
                    }else
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img' ><p class='up-user' >"+c.name+"</p></li>");

                });
            },"json");

        }
    });

    $(".tmbjtxpager .previous").click(function () {
        if(tmbjtxCurrPage-1>0){
            //排序规则
            var tmtxOrder=$("#tmtxOrder").val();
            var requestPath="/bgSpe/transparent/true?";
            if(tmtxOrder==="1"){
                requestPath=requestPath+"field=1&order=2&";
            }else if(tmtxOrder==="2"){
                requestPath=requestPath+"field=1&order=1&";
            }else if(tmtxOrder==="3"){
                requestPath=requestPath+"field=2&order=1&";
            }else if(tmtxOrder==="4"){
                requestPath=requestPath+"field=2&order=2&";
            }

            $.get(requestPath+"page="+(tmbjtxCurrPage-1),function(data){
                tmbjtxCurrPage=data.page;//获取当前页码
                $("#tmbjtxCurrPage").val(tmbjtxCurrPage);
                if(!data.hasNextPage){
                    $(".tmbjtxpager .next").hide();
                }else {
                    $(".tmbjtxpager .next").show();
                }
                if(!data.hasPreviousPage){
                    $(".tmbjtxpager .previous").hide();
                }else {
                    $(".tmbjtxpager .previous").show();
                }

                var imgul=$("#bjtx_tm").children("ul");
                $(imgul).children("li").remove();
                $.each(data.rows, function(index,c) {
                    if(currBgSpe!=null&&currBgSpe==c.sid){
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img min-img-active' ><p class='up-user' >"+c.name+"</p></li>");
                    }else
                        $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img' ><p class='up-user' >"+c.name+"</p></li>");

                });
            },"json");

        }
    });

    function gotoTmbjtxPage() {

        var page= $("#tmbjtxCurrPage").val();
        page=Math.floor(page);

        if (page===tmbjtxCurrPage||page<1||page>tmbjtxPageTotal)return;
        //排序规则
        var tmtxOrder=$("#tmtxOrder").val();
        var requestPath="/bgSpe/transparent/true?";
        if(tmtxOrder==="1"){
            requestPath=requestPath+"field=1&order=2&";
        }else if(tmtxOrder==="2"){
            requestPath=requestPath+"field=1&order=1&";
        }else if(tmtxOrder==="3"){
            requestPath=requestPath+"field=2&order=1&";
        }else if(tmtxOrder==="4"){
            requestPath=requestPath+"field=2&order=2&";
        }
        $.get(requestPath+"page="+page,function(data){
            tmbjtxCurrPage=data.page;//获取当前页码
            $("#tmbjtxCurrPage").val(tmbjtxCurrPage);
            if(!data.hasNextPage){
                $(".tmbjtxpager .next").hide();
            }else {
                $(".tmbjtxpager .next").show();
            }
            if(!data.hasPreviousPage){
                $(".tmbjtxpager .previous").hide();
            }else {
                $(".tmbjtxpager .previous").show();
            }

            var imgul=$("#bjtx_tm").children("ul");
            $(imgul).children("li").remove();
            $.each(data.rows, function(index,c) {
                if(currBgSpe!=null&&currBgSpe==c.sid){
                    $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img min-img-active' ><p class='up-user' >"+c.name+"</p></li>");
                }else
                    $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img' ><p class='up-user' >"+c.name+"</p></li>");

            });
        },"json");


    }

    function gotoBtmbjtxPage() {

        var page= $("#btmbjtxCurrPage").val();
        page=Math.floor(page);

        if (page===btmbjtxCurrPage||page<1||page>btmbjtxPageTotal)return;
        //排序规则
        var btmtxOrder=$("#btmtxOrder").val();
        var requestPath="/bgSpe/transparent/false?";
        if(btmtxOrder==="1"){
            requestPath=requestPath+"field=1&order=2&";
        }else if(btmtxOrder==="2"){
            requestPath=requestPath+"field=1&order=1&";
        }else if(btmtxOrder==="3"){
            requestPath=requestPath+"field=2&order=1&";
        }else if(btmtxOrder==="4"){
            requestPath=requestPath+"field=2&order=2&";
        }
        $.get(requestPath+"page="+page,function(data){
            btmbjtxCurrPage=data.page;//获取当前页码
            $("#btmbjtxCurrPage").val(tmbjtxCurrPage);
            if(!data.hasNextPage){
                $(".btmbjtxpager .next").hide();
            }else {
                $(".btmbjtxpager .next").show();
            }
            if(!data.hasPreviousPage){
                $(".btmbjtxpager .previous").hide();
            }else {
                $(".btmbjtxpager .previous").show();
            }

            var imgul=$("#bjtx_btm").children("ul");
            $(imgul).children("li").remove();
            $.each(data.rows, function(index,c) {
                if(currBgSpe!=null&&currBgSpe==c.sid){
                    $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img min-img-active' ><p class='up-user' >"+c.name+"</p></li>");
                }else
                    $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img sid='"+c.sid+"'  src='"+c.thumbnail+"' special='"+c.special+"' class='img-thumbnail min-img' ><p class='up-user' >"+c.name+"</p></li>");

            });
        },"json");


    }

    //排序加载
    $("#gxbjOrder").change(function () {
        //排序规则
        var gxbjOrder=$("#gxbjOrder").val();
        var requestPath="/bgImg/ispublic/true?";
        if(gxbjOrder==="1"){
            requestPath=requestPath+"field=1&order=2&";
        }else if(gxbjOrder==="2"){
            requestPath=requestPath+"field=1&order=1&";
        }else if(gxbjOrder==="3"){
            requestPath=requestPath+"field=2&order=1&";
        }else if(gxbjOrder==="4"){
            requestPath=requestPath+"field=2&order=2&";
        }
        $.get(requestPath+"page=1",function(data){
            gxbjpageNumb=data.page;//获取当前页码
            $("#gxbjCurrPage").val(gxbjpageNumb);
            if(!data.hasNextPage){
                $(".gxbjpager .next").hide();
            }else {
                $(".gxbjpager .next").show();
            }
            if(!data.hasPreviousPage){
                $(".gxbjpager .previous").hide();
            }else {
                $(".gxbjpager .previous").show();
            }

            var imgul=$("#gxbj").children("ul");
            $(imgul).children("li").remove();
            $.each(data.rows, function(index,c) {
                if(currBgImg!=null&&currBgImg==c.md5){
                    $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img min-img-active' ><p class='up-user' >上传者："+c.authorName+"</p></li>");
                }else
                    $(imgul).append("<li class=' col-sm-3 col-xs-4 min-img-li'><img md5='"+c.md5+"'  src='"+c.thumbnail+"' class='img-thumbnail min-img' ><p class='up-user' >上传者："+c.authorName+"</p></li>");

            });
        },"json");

    });
    //鼠标移入
    $("#bjtx_tm,#bjtx_btm").on("mouseenter",".min-img",function(){
        $(this).addClass("min-img-active");
    });
    //鼠标移出
    $("#bjtx_tm,#bjtx_btm").on("mouseleave",".min-img",function(){
        if(currBgSpe==null||currBgSpe!==$(this).attr("sid"))
            $(this).removeClass("min-img-active");
    });

    $("#bjtx_tm").on("click",".min-img",function (event) {
        $("#bjtx_tm .min-img").removeClass("min-img-active");
        $(this).addClass("min-img-active");
        currBgSpe=$(this).attr("sid");//获取选中的sid
        var path=$(this).attr("special");
        $("#iframe_bjtx").attr("src",path);

        //把不透明的选中更新
        $("#bjtx_btm .min-img").removeClass("min-img-active");
        var btmMinImg= $("#bjtx_btm .min-img");
        if(btmMinImg.length>0){
            $.each(btmMinImg,function (index,c) {
                if($(c).attr("sid")===currBgSpe){
                    $(c).addClass("min-img-active");
                }
            });
        }
    });

    $("#bjtx_btm").on("click",".min-img",function (event) {
        $("#bjtx_btm .min-img").removeClass("min-img-active");
        $(this).addClass("min-img-active");
        currBgSpe=$(this).attr("sid");//获取选中的sid
        var path=$(this).attr("special");
        $("#iframe_bjtx").attr("src",path);


        //把透明的选中更新
        $("#bjtx_tm .min-img").removeClass("min-img-active");
        var tmMinImg= $("#bjtx_tm .min-img");
        if(tmMinImg.length>0){
            $.each(tmMinImg,function (index,c) {
                if($(c).attr("sid")===currBgSpe){
                    $(c).addClass("min-img-active");
                }
            });
        }
    });
</script>

<!--保存装扮-->

<!--保存弹窗 -->
<a class="md-trigger" data-modal="saveAlert" style="display: none" >测试</a>
<div class="md-modal md-effect-13" id="saveAlert">
    <div class="md-content">
        <h3 style="font-weight: bold;color: cyan;">样式保存中......请勿刷新！！！</h3>
        <div>
            <p  style="color: red;text-align: center; font-weight: 900; "></p>
            <table id="saveContent" style="text-align: center;margin: 0 auto;">
                <!--具体保存的内容-->


<!--                <li><span class=" my_close_button" >确定!</span><span class="md-close my_close_button" style="display: none">Close!</span></li>-->
            </table>

        </div>
    </div>
</div>


<!--保存 -->
<script type="text/javascript" th:inline ="javascript" th:if="${user.username!=null}">
    //保存装饰
    function savedeck(obj){
        threeBtn(obj);
     //   $(".zhezhao").css("visibility","visible");//显示遮罩
     //   $(".my-load-div").show();//显示加载div

      //  var isOPenSaveAlert=false;//是否打开弹窗
        var taskCount=null;//任务个数
        //打开弹窗
        $("#saveAlert").addClass("md-show");

        $.ajaxSettings.async = false;//同步请求
//----------------------保存背景图片----------------------------------------------
        //上传的背景图不为空 就上传图片
        if($("#picFileUp").val().trim()!==""){
            if(taskCount===null)taskCount=1;
            else taskCount+=1;
            //没打开就打开
         //   if(!isOPenSaveAlert){
         //      $("#saveAlert").addClass("md-show");
               $("#saveContent").append(" <tr><td><strong style='font-size: 20px'>保存背景图片:</strong></td><td> <span id='saveMessage1'><img src='/img/加载.svg'></span></td></tr>");
           //     isOPenSaveAlert=true;
          //  }

            //console.log("保存背景图片成功");
            var form = new FormData(document.getElementById("sctpform"));
            form.append("isPublic",isPicPublic);
            $.ajax({
                url: "/bgImg/upload",
                type: "post",
                data: form,
                cache:false,
                processData: false,
                contentType: false,
                success: function(data) {
                    if (data.status===1){
                        setTimeout(function () {
                            $("#saveMessage1").addClass("label label-success");
                            $("#saveMessage1").text(data.msg);
                            taskCount-=1;

                        },1500);
                    }else if(data.status===2) {
                        setTimeout(function () {
                            $("#saveMessage1").addClass("label label-danger");
                            $("#saveMessage1").text(data.msg);
                            taskCount-=1;
                        },1500);
                    }

                    // console.log(data);
                },
                error: function(e) {
                    //  swal("保存失败","服务器错误","error");
                    setTimeout(function () {
                        $("#saveMessage1").addClass("label label-danger");
                        $("#saveMessage1").text("服务器错误保存失败！！！");
                        taskCount-=1;
                    },1500);
                    //   console.log(e);
                }
            });
            $("#picFileUp").val("");//置空防止重复提交
        }else if(currBgImg!=null){
            if(taskCount===null)taskCount=1;
            else taskCount+=1;
            //没打开就打开
           // if(!isOPenSaveAlert){
           //     $("#saveAlert").addClass("md-show");
                $("#saveContent").append(" <tr><td><strong style='font-size: 20px'>保存背景图片:</strong></td><td> <span id='saveMessage1'><img src='/img/加载.svg'></span></td></tr>");
           //     isOPenSaveAlert=true;
          //  }
            //此处通过MD5值保存图片背景 无需上传
            $.post("/bgImg/change/md5/"+currBgImg,"",function (data) {

                if (data.status===1){
                    setTimeout(function () {
                        $("#saveMessage1").addClass("label label-success");
                        $("#saveMessage1").text(data.msg);
                        taskCount-=1;
                    },1500);
                }else if (data.status===2){
                    setTimeout(function () {
                        $("#saveMessage1").addClass("label label-danger");
                        $("#saveMessage1").text(data.msg);
                        taskCount-=1;
                    },1500);
                }
            },"json").error(function () {
                setTimeout(function () {
                    $("#saveMessage1").addClass("label label-danger");
                    $("#saveMessage1").text("操作失败,服务器错误!");
                    taskCount-=1;
                },1500);
            });;

        }
//----------------------保存背景图片----------------------------------------------

//----------------------保存背景特效----------------------------------------------
        if(currBgSpe!==null){
            if(taskCount===null)taskCount=1;
            else taskCount+=1;

            $("#saveContent").append(" <tr><td><strong style='font-size: 20px'>保存背景特效:</strong></td><td> <span id='saveMessage2'><img src='/img/加载.svg'></span></td></tr>");

            $.post("/bgSpe/change/"+currBgSpe,"",function (data) {

                if (data.status===1){
                    setTimeout(function () {
                        $("#saveMessage2").addClass("label label-success");
                        $("#saveMessage2").text(data.msg);
                        taskCount-=1;
                    },1500);
                }else if (data.status===2){
                    setTimeout(function () {
                        $("#saveMessage2").addClass("label label-danger");
                        $("#saveMessage2").text(data.msg);
                        taskCount-=1;
                    },1500);
                }
            },"json").error(function () {
                setTimeout(function () {
                    $("#saveMessage2").addClass("label label-danger");
                    $("#saveMessage2").text("操作失败,服务器错误!");
                    taskCount-=1;
                },1500);
            });
        }


//----------------------保存背景特效----------------------------------------------
        $.ajaxSettings.async = true;//变回异步
        //确定跳转
       var qd=setInterval(function () {
        if(taskCount===null){
            $("#saveContent").append("<tr><td colspan='2'><strong style='font-size: 20px;color: #03a9f4;'>无任何改动,无须保存！！！</strong></td></tr><tr><td colspan='2'><span class=' my_close_button' onclick='indexReLoad()' >确定</span></td></tr>");
            clearInterval(qd);
        }else if(taskCount===0) {
            $("#saveContent").append("<tr><td colspan='2'><span class=' my_close_button' onclick='indexReLoad()' >确定</span></td></tr>");
            clearInterval(qd);
        }

       },300);





    }
</script>


<!--装扮菜单-->
<script type="text/javascript" th:inline ="javascript">

    $(".tab-content").css("color","white");
    $('.nav-tabs a').css("color","white"); //tab 标题改白色字
    $('.nav-tabs a').click(function (e) {
        e.preventDefault();
        $(this).tab('show');
    })

    function shouqi(obj){
        if($(obj).text()=="预览"){
            $('#head-tab-content').slideUp(300);
            $(obj).text("菜单");
        }else{
            $('#head-tab-content').slideDown(300);
            $(obj).text("预览");
        }
        threeBtn(obj);


    }



    //描述：空间感三个按钮

    function threeBtn(obj){
        var $button = $(obj);
        var duration = 0.3,
            delay = 0.08;
        TweenMax.to($button, duration, {scaleY: 1.6, ease: Expo.easeOut});
        TweenMax.to($button, duration, {scaleX: 1.2, scaleY: 1, ease: Back.easeOut, easeParams: [3], delay: delay});
        TweenMax.to($button, duration * 1.25, {scaleX: 1, scaleY: 1, ease: Back.easeOut, easeParams: [6], delay: delay * 3 });
    }


</script>

<!--********************************************************************-->











<!--********************************************************************-->
<!--描述：播放器 -->
<a id="tishi" tabindex="0" class=" music-player" role="button"
   data-toggle="popover" data-placement="left" data-trigger="focus" title="提示"
   data-content="点我播放背景音乐" >
    <img src="/material/img/music/音乐.png"  class=""/>

</a>
<marquee behavior="scroll" direction="right" style="position: fixed; right: 10px; top: 56px;overflow: hidden;
    		white-space: nowrap; width: 90px;" scrollamount='3' >
    <p id="musicName">xxxxxxx</p>

</marquee>



<div class="container" style="margin-top: 3%;">


    <!--描述：搜索框-->
    <div class="row">
        <div class="col-lg-2 col-md-2 col-xs-2"></div>
        <div class="col-lg-8 col-md-8 col-xs-8 " style="" id="sousuokuan">
            <div class="row " id="sousuobox" style="height: 50px; border-radius: 33px 33px 33px 33px; box-shadow:1px 0px 0px 5px rgba(0, 0, 0, 01), 1px 1px 20px 6px rgba(0, 0, 0, 01); background-color: rgba(0, 0, 0, 0.09); ">
                <div class="col-lg-1 col-md-1 col-xs-1 shubiao2" style=" width: 6%; height: 50px; padding:0; padding-left: 10px; margin-top: 10px; text-align: center; " onclick="searchList()" >
                    <a href="javascript:void(0)" style="width: 40px; height: 40px; " >
                        <img id="searchIco" width="30px" height="30px" src="/material/img/search/icon_百度logo.png"  />
                    </a>
                </div>
                <div class="col-lg-10 col-md-10 col-xs-10 ">
                    <input type="text" class="form-control sousuo" placeholder="输入要搜索的内容" id="Jsosuo" oninput="oninputchange()"  style=" text-align:center"></input>
                </div>
                <div class="col-lg-1 col-md-1 col-xs-1 ">
                    <a href="javascript:void(0)" style="width: 40px; height: 40px; " >
                        <input type="checkbox" id="border-3">
                        <label for="border-3" class="green" id="switchGroup"></label>
                    </a>
                </div>
            </div>
        </div>

    </div>
    <!--
        作者：简物语
        描述：联想词列表
    -->
    <div class="row">
        <div class="col-lg-2 col-md-2 col-xs-2"></div>

        <div class="col-lg-6 col-md-6 col-xs-6 assUldiv ">
            <ul id="assUl" class="assUl ">

            </ul>
        </div>
    </div>


    <!--
        作者：简物语
        描述：搜索引擎选择下拉框
    -->
    <div class="row">
        <div class="col-lg-2 col-md-2 col-xs-2"></div>
        <div class="col-lg-1 col-md-1 col-xs-1">
            <ul class="search-menu">
                <li>
                    <a href="javascript:void(0)" class="so360" style="text-decoration: none;" onclick="changeSearch('360',this)"><img />360</a>
                </li>

                <li>
                    <a href="javascript:void(0)" class="google" style="text-decoration: none;" onclick="changeSearch('gg',this)"><img />谷歌</a>
                </li>

                <li>
                    <a href="javascript:void(0)" class="baidu" style="text-decoration: none;" onclick="changeSearch('bd',this)"><img />百度</a>
                </li>

                <li>
                    <a href="javascript:void(0)" class="bing" style="text-decoration: none;" onclick="changeSearch('bi',this)"><img />bing必应</a>
                </li>

                <li>
                    <a href="javascript:void(0)" class="sogou" style="text-decoration: none;" onclick="changeSearch('sg',this)"><img />Sogou搜狗</a>
                </li>
            </ul>
        </div>
    </div>

    <!--
        作者：简物语
        描述：常用网站分组
    -->

    <div class="row" name="my_group">
        <div class="col-lg-2 col-md-2 col-xs-2"></div>
        <div class="col-lg-8 col-md-8 col-xs-8" >
            <div class="panel panel-default my-panel" >
                <ul class="webgroup" >
                    <li class="my-heading my-panel-heading" role="tab" id="headingOne" >
                        <div class="panel-title "  >
                            <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne"  >
                                分组1
                            </a>

                        </div>

                    </li>
                    <li class="my-panel-heading my-heading" role="tab" id="headingOne" >
                        <div class="panel-title">
                            <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse2" aria-expanded="true" aria-controls="collapseOne" >
                                分组2
                            </a>

                        </div>

                    </li>
                    <li class="my-panel-heading my-heading" role="tab" id="headingOne" >
                        <div class="panel-title">
                            <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse3" aria-expanded="true" aria-controls="collapseOne" >
                                分组3
                            </a>

                        </div>

                    </li>
                    <li class="my-panel-heading my-heading" role="tab" id="headingOne" >
                        <div class="panel-title">
                            <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse4" aria-expanded="true" aria-controls="collapseOne" >
                                分组4
                            </a>

                        </div>

                    </li>
                    <li class="my-panel-heading my-heading" role="tab" id="headingOne" >
                        <div class="panel-title">
                            <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse3" aria-expanded="true" aria-controls="collapseOne" >
                                分组5
                            </a>

                        </div>

                    </li>
                </ul>




                <div id="collapseOne" class="panel-collapse collapse my-collapse   " role="tabpanel" aria-labelledby="headingOne" aria-expanded="true" >

                    <div class="panel-body maoboli  ">
                        <a href="#" class="" ><img src="/material/img/webIco/bilibili.ico"  data-toggle="tooltip" data-placement="bottom" title="bilibil"/></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" /></a><a href="#" class=""><img src="/material/img/webIco/bilibili.ico" data-toggle="tooltip" data-placement="bottom" title="bilibil" /></a>




                    </div>


                </div>

                <div id="collapse2" class="panel-collapse collapse my-collapse " role="tabpanel" aria-labelledby="headingOne" aria-expanded="true" >
                    <div class="panel-body maoboli">
                        2Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                    </div>
                </div>
                <div id="collapse3" class="panel-collapse collapse my-collapse " role="tabpanel" aria-labelledby="headingOne" aria-expanded="true" >
                    <div class="panel-body maoboli">
                        3Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                    </div>
                </div>
                <div id="collapse4" class="panel-collapse collapse my-collapse " role="tabpanel" aria-labelledby="headingOne" aria-expanded="true" >
                    <div class="panel-body maoboli">
                        3Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                    </div>
                </div>
            </div>



        </div>



    </div>

    <div class="row" name="my_group">
        <div class="col-lg-2 col-md-2 col-xs-2"></div>
        <div class="col-lg-8 col-md-8 col-xs-8" >
            <div class="panel panel-default my-panel" >
                <ul class="webgroup" >
                    <li class="my-panel-heading my-heading" role="tab" id="headingOne" >
                        <div class="panel-title">
                            <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse5" aria-expanded="true" aria-controls="collapseOne" >
                                分组1
                            </a>

                        </div>

                    </li>
                    <li class="my-panel-heading my-heading" role="tab" id="headingOne" >
                        <div class="panel-title">
                            <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse5" aria-expanded="true" aria-controls="collapseOne" >
                                分组2
                            </a>

                        </div>

                    </li>
                    <li class="my-panel-heading my-heading" role="tab" id="headingOne" >
                        <div class="panel-title">
                            <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse6" aria-expanded="true" aria-controls="collapseOne" >
                                分组3
                            </a>

                        </div>

                    </li>
                    <li class="my-panel-heading my-heading" role="tab" id="headingOne" >
                        <div class="panel-title">
                            <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse7" aria-expanded="true" aria-controls="collapseOne" >
                                分组4
                            </a>

                        </div>

                    </li>
                    <li class="my-panel-heading my-heading" role="tab" id="headingOne" >
                        <div class="panel-title">
                            <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse5" aria-expanded="true" aria-controls="collapseOne" >
                                分组5
                            </a>

                        </div>

                    </li>
                </ul>


                <div id="collapse5" class="panel-collapse collapse my-collapse" role="tabpanel" aria-labelledby="headingOne" aria-expanded="true" >
                    <div class="panel-body">
                        5Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                    </div>
                </div>
                <div id="collapse7" class="panel-collapse collapse my-collapse" role="tabpanel" aria-labelledby="headingOne" aria-expanded="true" >
                    <div class="panel-body">
                        6Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                    </div>
                </div>
                <div id="collapse6" class="panel-collapse collapse my-collapse" role="tabpanel" aria-labelledby="headingOne" aria-expanded="true" >
                    <div class="panel-body">
                        7Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                    </div>
                </div>
            </div>



        </div>



    </div>



</div>

<!--*****************鼠标点击分组特效******************************-->
<script type="text/javascript" th:inline ="javascript" >
    //绑定鼠标点击分组特效
    $(".my-panel-heading .panel-title").bind("click",function(){
        threeBtn($(this));
    });
</script>

<!--搜索框初始化样式-->
<script  type="text/javascript" th:inline ="javascript" th:if="${user.username!=null}">
    //边框
    if(defaultsousuobgcolor!==null&&defaultsousuobgcolor.trim().length>0){
        $("#sousuoChangeView,#sousuobox").css("box-shadow","1px 0px 0px 5px "+defaultsousuobgcolor+", 1px 1px 20px 6px "+defaultsousuobgcolor);
        $('#sousuobgcolor div').css('backgroundColor',defaultsousuobgcolor );
    }
    //字体
    if(defaultsousuofontcolor!=null&&defaultsousuofontcolor.trim().length>0){
        $(".sousuo").css("color",defaultsousuofontcolor);
    }
</script>
<script type="text/javascript" th:inline ="javascript">

    /*************************搜索框输入值改变颜色*********************/

    function oninputchange(){

       // sousuofontIsChange
        //如果没有默认就是黑色
        if(typeof defaultsousuobgcolor=="undefined"){
            defaultsousuobgcolor="rgba(0,0,0, 1)";
        }
        //如果没有默认就是黑色
        if(typeof defaultsousuofontcolor=="undefined"){
            defaultsousuofontcolor="rgba(0,0,0, 1)";
        }

        //回溯
        if($("#Jsosuo").val().trim().length<=0){
            $("#sousuobox,#sousuoChangeView").css("box-shadow", "1px 0px 0px 5px "+defaultsousuobgcolor+", 1px 1px 20px 6px "+defaultsousuobgcolor);

            $(".sousuo").css("color",defaultsousuofontcolor);
            return;
        }
        //边框
        if(typeof sousuoIsChange!="undefined"){
            if(sousuoIsChange===0)return;
            var r = Math.floor(Math.random() * 256);
            var b = Math.floor(Math.random() * 256);
            var g = Math.floor(Math.random() * 256);
            $("#sousuobox,#sousuoChangeView").css("box-shadow", "1px 0px 0px 5px rgba(" + r + ", " + b + ", " + g + ", 1), 1px 1px 20px 6px rgba(" + r + ", " + b + ", " + g + ", 1)");
        }else {
            var r = Math.floor(Math.random() * 256);
            var b = Math.floor(Math.random() * 256);
            var g = Math.floor(Math.random() * 256);
            $("#sousuobox,#sousuoChangeView").css("box-shadow", "1px 0px 0px 5px rgba(" + r + ", " + b + ", " + g + ", 1), 1px 1px 20px 6px rgba(" + r + ", " + b + ", " + g + ", 1)");
        }
        //字体
        if(typeof sousuofontIsChange!="undefined"){
            if(sousuofontIsChange===0)return;

            var r = Math.floor(Math.random() * 256);
            var b = Math.floor(Math.random() * 256);
            var g = Math.floor(Math.random() * 256);

            $(".sousuo").css("color","rgba(" + r + ", " + b + ", " + g + ", 1)");
        }else {
            var r = Math.floor(Math.random() * 256);
            var b = Math.floor(Math.random() * 256);
            var g = Math.floor(Math.random() * 256);

            $(".sousuo").css("color","rgba(" + r + ", " + b + ", " + g + ", 1)");
        }

    }
    /*****************音乐播放器***************************/
    var musicUrl="http://music.163.com/song/media/outer/url?id=1338355334.mp3"; //地址
    var musicName="狂おしいほど僕には"; //名称
    var author="majiko"; //作者
    var angle = 0;//旋转角度初始化
    //歌曲名
    $("#musicName").text(musicName+"--"+author);
    //播放器旋转
    function xuanzhuang(){
        angle+=3;
        $(".music-player").css("transform","rotate("+angle+"deg)");
        if (angle===360) angle=0;

    }
    var xz=null;//定时器
    //播放器阴影
    var audioShadow =setInterval(function(){
        var r = Math.floor(Math.random() * 256);
        var b = Math.floor(Math.random() * 256);
        var g = Math.floor(Math.random() * 256);
        $(".music-player").css("box-shadow", "4px 5px 8px rgba(" + r + ", " + b + ", " + g + ", 1), -4px -2px 8px rgba(" + r + ", " + b + ", " + g + ", 1)");
        $(".music-player").css("border","2px solid "+ "rgba(" + r + ", " + b + ", " + g + ", 1)");
        $("#musicName").css("color","rgba(" + r + ", " + b + ", " + g + ", 1)");
    },500);
    //失去焦点旋转
    $(".music-player").mouseout(function() {
        if(audioID==2){
            clearInterval(xz);
            xz=setInterval(xuanzhuang,30);
            //	console.log("adasdasdasdasdasd")
        }

    });

    //获得焦点不转
    $(".music-player").mouseover(function() {
        //	console.log("buzhuang")
        clearInterval(xz);

    });
    //播放音乐
    var audioClass="audio";
    function playSound()
    {
        var borswer = window.navigator.userAgent.toLowerCase();
        if ( borswer.indexOf( "ie" ) >= 0 )
        {
            //IE内核浏览器
            var strEmbed = "<embed name='embedPlay' id='embedPlay' autostart=true loop=true src="+musicUrl+"></embed>";
            if ( $( "body" ).find( "embed" ).length <= 0 )
                $( "body" ).append( strEmbed );
            var embed = document.embedPlay;

            //浏览器不支持 audion，则使用 embed 播放
            embed.volume = 100;
            embed.play();//这个不需要
            // console.log("embed")
            audioClass="embed";
        } else
        {
            //非IE内核浏览器
            var strAudio = "<audio id='audioPlay' loop='loop'  src='"+musicUrl+"' hidden='true'>";
            if ( $( "body" ).find( "audio" ).length <= 0 )
                $( "body" ).append( strAudio );
            var audio = document.getElementById( "audioPlay" );

            //浏览器支持 audion
            //   console.log("audio");
            audioClass="audio";
            audio.play();


        }
    }

    var audioID=1;//1未 2ing
    $(".music-player").click(function(){
        if (audioID==1) {
            playSound();
            xz=setInterval(xuanzhuang,30);
            audioID=2;
        }else{
            if (audioClass=="audio") {
                $("#audioPlay")[0].pause();//暂停
            }else{
                $("#embedPlay")[0].pause();
            }
            clearInterval(xz);
            audioID=1;
        }

    });
    // setInterval(playSound,1);



    /**************鼠标样式参数*****************/

    // $(".shubiao").css("cursor", "url(/material/img/mouse/pointer/蓝色鼠标.ico),default");//鼠标
    // $("a,.shubiao2,.music-player,label,.hamburger,img").css("cursor", "url(/material/img/mouse/hand/手指.ico),default");//手指



    /**********************初始化参数**************************/
    var startLiId = 1; //li联想词起始值
    var searchClassName = "http://www.baidu.com/s?wd="; //默认百度搜索
    $(".so360 img").prop("src", "/material/img/search/360.png");
    $(".google img").attr("src", "/material/img/search/谷歌搜索.png");
    $(".baidu img").attr("src", "/material/img/search/icon_百度logo.png");
    $(".bing img").attr("src", "/material/img/search/bing.png");
    $(".sogou img").attr("src", "/material/img/search/搜狗搜索ico-18px.png");

    /*****************鼠标移入变大图标******************************/
    var iocwidth;
    var iocheight;
    var magintop;
    $("#searchIco").mouseenter(function(){
        iocwidth=$(this).width()+10;
        iocheight=$(this).height()+10;
        magintop=$(this).css("margin-top").replace("px","")-10;
        //console.log(magintop);
        $(this).width(iocwidth+"px");
        $(this).height(iocheight+"px");
        $("#searchIco").css("margin-top",magintop+"px");
    });
    $("#searchIco").mouseleave(function(){
        iocwidth-=10;
        iocheight-=10;
        magintop+=10;
        //console.log(magintop);
        $(this).width(iocwidth+"px");
        $(this).height(iocheight+"px");
        $("#searchIco").css("margin-top",magintop+"px");
    });


    /********************JQQQQQQQQQQQQQ*******************************/
    $(function() {

        /********************播放器提示语*******************************/
        $('[data-toggle="popover"]').popover();
        $("#tishi").popover("show");
        setTimeout(function(){
            $("#tishi").popover("hide");
            $('#tishi').popover('destroy');
        },3000);


        /**************调用百度联想词*****************************/
        //失去焦点关闭联想词
        $("#Jsosuo").blur(function() {
            //$(".assUldiv").hide();
            $(".assUldiv").slideUp(300);
        });

        //获得焦点展示联想词
        $("#Jsosuo").focus(function() {
            $("#Jsosuo").keyup();
        });
        /**************监控鼠标*********************/
            //点击空白收回ul
        var shifouzaiUlLi=false;//是否在ul里
        $('.search-menu').mouseenter(function() { shifouzaiUlLi = true; }).mouseleave(function() { shifouzaiUlLi = false; });
        $(document).mousedown(function(event){
            if(event.button===0){//左键
                if($(".search-menu").css("display")!="none"&&shifouzaiUlLi===false){
                    $(".search-menu").slideUp(300);
                    //console.log("asdd")
                }
            }
        });
        //监控键盘
        $(document).keydown(function(event) {

            if(event.keyCode === 38) {

                if($(".assUldiv").css("display") != 'none') {
                    //	console.log('按下了上方向键');
                    startLiId -= 1;
                    if(startLiId <= 0) {
                        startLiId = $("#assUl li").length;
                    }
                    $("#assUl li").css("background-color", "");
                    $("#assUl li:nth-child(" + startLiId + ")").css("background-color", "rgba(14, 5, 5, 0.5)");
                    console.log(startLiId);
                    var searchText = $("#assUl li:nth-child(" + startLiId + ") a").text();
                    $("#Jsosuo").val(searchText);
                }
            } else if(event.keyCode === 40) {
                if($(".assUldiv").css("display") != 'none') {
                    //	console.log('按下了下方向键');
                    startLiId += 1;
                    if(startLiId > $("#assUl li").length) {
                        startLiId = 1;
                    }
                    $("#assUl li").css("background-color", "");
                    $("#assUl li:nth-child(" + startLiId + ")").css("background-color", "rgba(14, 5, 5, 0.5)");
                    console.log(startLiId);
                    var searchText = $("#assUl li:nth-child(" + startLiId + ") a").text();
                    $("#Jsosuo").val(searchText);
                }
            } else if(event.keyCode === 13 && $("#Jsosuo").is(":focus")) {
                //console.log("按下回车");
                var mtext = $("#Jsosuo").val();
                var str = searchClassName + mtext;
                window.open(str,'_blank');
                //window.location.href = str;
            } else {

            }
        });


        $("#Jsosuo").keyup(function() {
            if(event.keyCode === 38 || event.keyCode === 40 || event.keyCode === 13) return;
            var mtext = $("#Jsosuo").val();

            $.ajax({
                url: "https://www.baidu.com/sugrec?pre=1&p=3&ie=utf-8&json=1&prod=pc&from=pc_web&wd=" + mtext + "&req=2&csor=1&pwd=1&cb=associational",
                type: "GET",
                dataType: "jsonp", //指定服务器返回的数据类型
                success: function(data) {
                    //调用回调函数
                }
            });

        });

    });
    //回调函数
    function associational(data) {

        //console.log("daying Q:"+data.q)
        var mtext = $("#Jsosuo").val();
        var str = "<li style='display:none;'><a href=" + searchClassName + mtext + ">" + mtext + "</a></li>";
        var temp = str;
        $.each(data.g, function(index, c) {
            str += "<li><a href=" + searchClassName + c.q + ">" + c.q + "</a></li>";
            if(index == 6) {
                return false;
            }
        });
        $("#assUl").children().filter("li").remove();
        if(str != "" && str.trim().length > 0 && str != temp) {
            //$(".assUldiv").show();
            $("#assUl").append(str);
            $(".assUldiv").slideDown(300);
        } else {
            //$(".assUldiv").hide();
            $(".assUldiv").slideUp(400);
        }
        startLiId = 1; //li索引归1
    }

    /**************调用百度联想词结束*****************************/

    /****************切换搜索引擎*************************************/
    function changeSearch(searchClass, obj) {
        if(searchClass == "gg") {
            searchClassName = "https://www.google.com/search?q=";
            var className = "." + $(obj).prop("className");
            var imgurl = $(className + " img").attr("src");
            $("#searchIco").attr("src", imgurl);

        } else if(searchClass == "bd") {
            searchClassName = "http://www.baidu.com/s?wd=";
            var className = "." + $(obj).prop("className");
            var imgurl = $(className + " img").attr("src");
            $("#searchIco").attr("src", imgurl);
        } else if(searchClass == "bi") {
            searchClassName = "https://cn.bing.com/search?q=";
            var className = "." + $(obj).prop("className");
            var imgurl = $(className + " img").attr("src");
            $("#searchIco").attr("src", imgurl);
        } else if(searchClass == "sg") {
            searchClassName = "https://www.sogou.com/web?query=";
            var className = "." + $(obj).prop("className");
            var imgurl = $(className + " img").attr("src");
            $("#searchIco").attr("src", imgurl);
        } else if(searchClass == "360") {
            searchClassName = "https://www.so.com/s?ie=utf-8&q=";
            var className = "." + $(obj).prop("className");
            var imgurl = $(className + " img").attr("src");
            $("#searchIco").attr("src", imgurl);
        }
        $(".search-menu").slideUp(300);
        //console.log(searchClassName);
    }
    //展示搜索引擎列表
    function searchList() {
        if($(".search-menu").css("display") == 'none') {
            $(".search-menu").slideDown(300);
        } else {
            $(".search-menu").slideUp(300);
        }

    }


</script>

<!--*****************漂浮物******************************-->
<div id="floatImg" style="display: none">
    <img src="/material/img/float/10000/pfw.gif" style="position: absolute; top: 100.5px; left: 308.6px;">
    <img src="/material/img/float/10000/pfw3.gif" style="position: absolute; top: 100.5px; left: 308.6px;">
    <img src="/material/img/float/10000/pfw.gif" style="position: absolute; top: 166.5px; left: 208.6px;">
    <img src="/material/img/float/10000/pfw2.gif" style="position: absolute; top: 146.5px; left: 508.6px;">
    <img src="/material/img/float/10000/pfw.gif" style="position: absolute; top: 160.5px; left: 408.6px;">
    <img src="/material/img/float/10000/pfw3.gif" style="position: absolute; top: 168.5px; left: 708.6px;">
    <img src="/material/img/float/10000/pfw.gif" style="position: absolute; top: 160.5px; left: 408.6px;">
    <img src="/material/img/float/10000/pfw2.gif" style="position: absolute; top: 168.5px; left: 708.6px;">
</div>
<script type="text/javascript" th:inline ="javascript">

    var winH=$(window).height();
    var winW=$(window).width();

    $(window).resize(function() {
        winH=$(window).height();
        winW=$(window).width();
    });

    var imgs=$("#floatImg").children("img");
    //初始化随机排序
    function randomRanking(){
        $.each(imgs,function(index,im){
            var randomH=Math.random() * winH;
            $(im).css("top",randomH+"px");
            var randomW=Math.random() * winW;
            $(im).css("left",randomW+"px");
        });
        $("#floatImg").show();
    }
    randomRanking();//调用初始
    //漂浮
    function floatImg(){

        var imgTop,imgLeft,randomW,randomH;
        var isChangeW;//是否改变宽
        $.each(imgs,function(index,im){
            //console.log($(im).attr("src"))
            randomW=0;//随机宽
            randomH=Math.random();//随机高
            isChangeW=Math.round(Math.random());//是否改变宽
            if(isChangeW==0){//0改变 1不改变
                randomW=Math.random();//随机宽
            }
            isChangeW=Math.random();//60%向左 40%向右
            if(isChangeW<0.6){
                imgLeft=parseFloat($(im).css("left").replace("px",""))-randomW;
            }else{
                imgLeft=parseFloat($(im).css("left").replace("px",""))+randomW;
            }

            imgTop =parseFloat($(im).css("top").replace("px",""))+randomH;
            //console.log($(im).css("top").replace("px","")+" and "+imgTop);

            $(im).css("top",imgTop+"px");
            $(im).css("left",imgLeft+"px");
            if(imgLeft<=0||imgTop>winH||imgLeft>winW-32){
                $(im).css("top","-1px");
                randomW=Math.random() * winW;
                $(im).css("left",randomW+"px");
            }
            //console.log(imgTop+" and "+imgLeft);
            //console.log($(window).height()+" and "+$(window).width());
        });
    }

    var MyfloatImg=setInterval(floatImg,60);
</script>
<!--****************右键菜单******************************-->
<div id='contextMenus1'></div>




















<!--******************常用网站悬浮特效******************************-->
<script type="text/javascript" th:inline ="javascript">
    var isOnImg=false;	//是否在图上
    var curImgId=null;//当前图片id
    $(".maoboli img").mouseenter(function(){
        isOnImg=true;
        $(this).css("box-shadow","0px 0px 9px 2px rgba(0,235,255,1)");
        //$(this).css("border","2px solid  rgba(0,235,255,1)");
    });
    $(".maoboli img").mouseleave(function(){

        isOnImg=false;
        $(this).css("box-shadow","0px 0px 9px 2px rgba(0,0,0,1)");
        $(this).css("border","0px solid  rgba(0,235,255,1)");
    });


    $(".maoboli img").mousedown(function(event){
        if(event.button===2){//右键
            $(this).css("box-shadow","0px 0px 9px 2px rgba(0,0,0,0)");
            $(this).css("border","2px solid  red");
            curImgId= $(this);

            return;
        }
        $(this).css("box-shadow","0px 0px 9px 2px rgba(0,0,0,0)");
        $(this).css("border","2px solid  rgba(0,235,255,1)");
    });
    $(".maoboli img").mouseup(function(event){

        if (isOnImg===false) {
            $(this).css("box-shadow","0px 0px 9px 2px rgba(0,0,0,1)");
            $(this).css("border","0px solid  rgba(0,235,255,1)");
        }else{
            $(this).css("box-shadow","0px 0px 9px 2px rgba(0,235,255,1)");
            $(this).css("border","0px solid  rgba(0,235,255,1)");
        }
    });
    //随机开灯
    function randomLight(){
        var imgs=$(".maoboli a").children("img");
        var rdm,obj;
        rdm=Math.round(Math.random()*imgs.length);
        obj=imgs.eq(rdm);
        if($(obj).parent().parent().parent().hasClass("in")){
            var r = Math.floor(Math.random() * 256);
            var b = Math.floor(Math.random() * 256);
            var g = Math.floor(Math.random() * 256);
            if (isOnImg===false) {
                $(obj).css("box-shadow","0px 0px 9px 2px rgba("+r+","+b+","+g+",1)");
            }
        }


    }
    //关灯
    function closeLight(){
        var imgs=$(".maoboli a").children("img");
        var rdm;
        $.each(imgs, function(index,obj) {
            if ($(obj).parent().parent().parent().hasClass("in")&&isOnImg===false) {
                $(obj).css("box-shadow","0px 0px 9px 2px rgba(0,0,0,1)");
            }
        });
    }
    var openLight=setInterval(randomLight,600);//随机开灯
    var closeLight=setInterval(closeLight,1200);//随机关灯
</script>



<!--调整位置-->
<script th:inline ="javascript">
    //联想词位置
    var sousuokuanOffLeft=$("#sousuokuan").offset().left;//获取搜索框距离左边多少
    var sousuokuanOffRight=$("#sousuokuan").width()+sousuokuanOffLeft;//获取搜索框距离右边多少
    $(".assUldiv").css("left",sousuokuanOffLeft+"px");
    //窗口改变触发
    $(window).resize(function() {
        var sousuokuanOffLeft=$("#sousuokuan").offset().left;//获取搜索框距离左边多少
        var sousuokuanOffRight=$("#sousuokuan").width()+sousuokuanOffLeft;//获取搜索框距离右边多少

        //联想词位置
        $(".assUldiv").css("left",sousuokuanOffLeft+"px");

    });



</script>

<!--分组收起特效-->
<script th:inline ="javascript" type="text/javascript">
    //隐藏和显示分组
    var is_my_group_none=false; //默认是否隐藏分组
    //初始化
    if(is_my_group_none==true||is_my_group_none=="true"){
        $("div[name='my_group']").css("display","none");
        //$("div[name='my_group']").slideUp(300);
    }

    $("#border-3").click(function(){
        //$("div[name='my_group']").css("display","none");
        if(is_my_group_none==true||is_my_group_none=="true")
            $("div[name='my_group']").toggle(300);
        else{
            //$(".my-collapse").collapse('hide');
            var dsq=setInterval(function(){
                var flag=true;
                $.each($(".my-collapse"), function(index,obj) {
                    if($(obj).hasClass("in")){
                        $(obj).collapse('hide');
                        flag=false;
                        return false;
                    }else if($(obj).hasClass("collapsing")){
                        flag=false;
                        return true;
                    }

                });
                if (flag) {
                    $("div[name='my_group']").toggle(600);
                    clearInterval(dsq);
                }
                //setTimeout(function(){console.log("1s")},1000);


            },100);

        }

        is_my_group_none=!is_my_group_none;
    });
</script>

<!--分组网站鼠标悬停提示标签 -->
<script type="text/javascript" th:inline ="javascript">
    $(function () {
        $('[data-toggle="tooltip"]').tooltip()
    })
</script>

<!-- 鼠标右键菜单 -->
<script  src="/js/class2context.js"></script>
<script type="text/javascript" th:inline ="javascript" th:if="${user.username==null}">
    //主菜单
    class2context('main_menu', "主菜单",
        [
            [
                "<img src='/material/img/rightMenu/个性化.png' width='25px' /> 编辑", "edit_page2()"
            ]
        ]);
   function edit_page2() {
       Swal.fire("未登陆","请登录后操作！！！","info")

   }
</script>
<script type="text/javascript" th:inline ="javascript" th:if="${user.username!=null}">

    //主菜单
    class2context('main_menu', "主菜单",
        [
            [
                "<img src='/material/img/rightMenu/个性化.png' width='25px' /> 编辑", "edit_page()"
            ]
        ]);

    //分组菜单
    $(".maoboli a").addClass("www_menu");//导航网站
    class2context('www_menu', "导航管理",
        [
            [
                "<img src='/material/img/rightMenu/修改.png' width='25px' /> 编辑此网站", "edit_page()"
            ],
            [
                "<img src='/material/img/rightMenu/删除.png' width='25px' /> 删除此网站 ", "del_www()"
            ]
        ]);

    $(".maoboli ").addClass("group_menu");
    class2context('group_menu', "导航管理",
        [
            [
                "<img src='/material/img/rightMenu/ie.png' width='25px' /> 添加网站", "edit_page()"
            ],
            [
                "<img src='/material/img/rightMenu/分组.png' width='25px' /> 添加分组", "edit_page()"
            ]
        ]);


    // 编辑显示菜单
    function edit_page(){
        if($("#head-tab-content").css("display")==="none"){
            hamburger_cross("close");//关闭收藏夹

            $("#head-tab-content").slideDown(300);
            $("#BtnThree").slideDown(300);
            $("#page-content-wrapper").hide();
        }
    }
    //退出按钮
    function exit_edit(obj){
        $("#head-tab-content").slideUp(300);
        $("#BtnThree").slideUp(300);
        setTimeout(function () {
            $("#page-content-wrapper").show();
        },300);
    }
    //删除当前网站
    function del_www(){
      //  console.log(curImgId)
        if(curImgId!=null){
            $(curImgId).remove();
        }
    }


</script>

<!-- 弹窗 -->
<div class="md-modal md-effect-13" id="modal-13" th:if="${user.username==null}">
    <div class="md-content">
        <h3>login</h3>
        <div>
            <p id="minfo" style="color: red;text-align: center; font-weight: 900;"></p>
            <form id="loginFrom" method="post">
                <input type="checkbox" name="remember-me" value="true" checked="checked" style="display:none;" />
            <ul>
                <li><td><strong >USER_NAME:</strong></td> <td><input type="text" name="username"  id="username" autocomplete="off"  placeholder="用户名/邮箱"  /></td></li>
                <li><td><strong >PASSWORD :</strong></td> <td><input type="text"  name="password" id="password" autocomplete="off"   placeholder="密码" /></td></li>
                <li><td><strong >CAPTCHA  :</strong></td> <td><input type="text"  name="imgCode" id="imgCode" autocomplete="off"   placeholder="图片验证码" /></td></li>
                <li><td><strong ></strong><td><img id="getimgcode" src="/imgCode" /></td></li>

                 <li><span class=" my_close_button" id="loginSubmit">login!</span><span class="md-close my_close_button">Close!</span></li>
            </ul>
            </form>
        </div>
    </div>
</div>



<!-- 弹窗 -->
<div class="md-overlay" ></div><!-- the overlay zhezhao -->
<script src="/js/classie.js" ></script>
<script src="/js/modalEffects.js" ></script>
<script src="/js/cssParser.js" ></script>
<!--<script src="/js/css-filters-polyfill.js" ></script>-->
<script th:inline ="javascript" type="text/javascript" th:if="${user.username==null}">
    $("#password").focus(function () {
        $(this).attr("type","password");
        $("#minfo").text("");
    });
    $("#username,#imgCode").focus(function () {
        $("#minfo").text("");
    });
    //登录
   $("#loginSubmit").click(function(){
       $("#minfo").text("");
		$.post("/securityLogin",
				$("#loginFrom").serialize(),
				function(data){
		      //  console.log(data.errorMsg);
				if(data.status==1){
                    $(".zhezhao").css("visibility","visible");
                    $(".my-load-div").show();
                    setTimeout(function () {
                        window.location.href="/index"
                    },1000) ;

				}else if(data.status==2){
				    var ErrorMessage=data.errorMsg;
				    if (ErrorMessage.indexOf("disabled")!=-1){
                        $("#minfo").text("账户被禁用");
                    }else if (ErrorMessage.indexOf("locked")!=-1){
                        $("#minfo").text("账户被锁定或用户不存在");
                    }else if (ErrorMessage.indexOf("expired")!=-1){
                        $("#minfo").text("账户已过期");
                    }else {
                        $("#minfo").text("用户名或密码错误");
                    }
				}else{
					$("#minfo").text(data.errorMsg);
				}

		  },"json");


	});



	$("#getimgcode").click(function(){
		var url="/imgCode";
		$("#getimgcode").attr("src",url+"?"+new Date().getTime());

	});

</script>
<!--用户-->
<script th:inline ="javascript" type="text/javascript" th:if="${user.username!=null}">
    var isOnSearchMenu=false;
    $(".search-menu-info li").mouseenter(function(){
        if($(this).attr("name")=="user_name")return;
        $(this).css("background-color","#14adc1");
    });

    $(".search-menu-info li").mouseleave(function(){
        if($(this).attr("name")=="user_name")return;
        $(this).css("background-color","transparent");
    });
    $("#userinfo").mouseenter(function(){
        if($(".search-menu-info").css("display")==="none")  $(".search-menu-info").slideDown(100);
    });
    $("#userinfo").mouseleave(function(){
        setTimeout(function(){
            if(isOnSearchMenu===true)return;
            if($(".search-menu-info").css("display")==="block")  $(".search-menu-info").slideUp(500);
        },500);
    });
    $(".search-menu-info").mouseenter(function(){
        isOnSearchMenu=true;
       if($(".search-menu-info").css("display")==="none") $(this).slideDown(100);
    });
    $(".search-menu-info").mouseleave(function(){
        isOnSearchMenu=false;
        if($(".search-menu-info").css("display")==="block") $(this).slideUp(500);
    });
</script>
<script th:inline ="javascript" type="text/javascript" th:if="${user.username!=null}">
    function  logout() {
        $(".zhezhao").css("visibility","visible");
        $(".my-load-div").show();
       setTimeout(function () {
           window.location="/logout";
       },1000) ;
    }
    function  indexReLoad() {
        $(".zhezhao").css("visibility","visible");
        $(".my-load-div").show();
        setTimeout(function () {
            window.location.reload();
        },1000) ;
    }
</script>
<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!--三大按键0-->
<script th:src="@{/js/TweenMax.min.js}"></script>
<!--弹窗1-->
<script src="/js/modernizr.custom.js"></script>
<script src="/js/sweetalert2.all.min.js"></script>
<!--取色器-->
<script src="/js/colorpicker.js"></script>



</body>
</html>